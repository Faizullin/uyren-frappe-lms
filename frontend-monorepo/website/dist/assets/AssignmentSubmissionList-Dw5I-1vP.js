import"@headlessui/vue";import{i as x,s as D,z as F,r as g,o as L,c as P,w as R,b,u as C,d as I,e as c,f as i,g as p,h as a,l as t,j as v,af as V,q as U,n as m,ag as z,F as y,x as $,ah as G,aj as T,ak as E,al as K,B as O,p as H,t as f,ao as J,bM as Q}from"./index-BIerRe8o.js";import{_ as W}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-Cdx-1Hlv.js";import"@tiptap/extension-code-block-lowlight";import"@tiptap/extension-placeholder";import"@tiptap/extension-table";import"@tiptap/extension-table-cell";import"@tiptap/extension-table-header";import"@tiptap/extension-table-row";import"@tiptap/extension-text-align";import"@tiptap/extension-text-style";import"@tiptap/extension-typography";import"@tiptap/vue-3";import"@tiptap/extension-mention";import"@vueuse/core";import"@tiptap/core";import"@tiptap/extension-code-block";import"@tiptap/extension-heading";import"@tiptap/suggestion";import"@tiptap/extension-link";const X={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},Y={class:"md:w-3/4 md:mx-auto py-5 mx-5"},Z={class:"grid grid-cols-3 gap-5 mb-5"},ee={key:0},se={key:1},te={key:1,class:"text-center p-5 text-ink-gray-5 mt-52 w-3/4 md:w-1/2 mx-auto space-y-2"},ae={class:"text-xl font-medium"},ne={class:"leading-5"},Ae={__name:"AssignmentSubmissionList",setup(ie){const h=x("$user"),w=x("$dayjs"),{brand:A}=D(),_=F(),o=g(""),r=g(""),l=g("");L(()=>{!h.data?.is_instructor&&!h.data?.is_moderator&&_.push({name:"Courses"}),o.value=_.currentRoute.value.query.assignmentID,r.value=_.currentRoute.value.query.member,l.value=_.currentRoute.value.query.status,k()});const N=()=>{let e={};return o.value&&(e.assignment=o.value),r.value&&(e.member=r.value),l.value&&(e.status=l.value),e},u=P({doctype:"LMS Assignment Submission",fields:["name","assignment","assignment_title","member_name","creation","status"],orderBy:"creation desc",transform(e){return e.map(n=>({...n,creation:w(n.creation).fromNow()}))}});R([o,r,l],()=>{_.push({query:{assignmentID:o.value,member:r.value,status:l.value}}),k()});const k=()=>{u.update({filters:N()}),u.reload()},S=b(()=>[{label:"Member",key:"member_name",width:1},{label:"Assignment",key:"assignment_title",width:2},{label:"Submitted",key:"creation",width:1,align:"left"},{label:"Status",key:"status",width:1,align:"center"}]),M=b(()=>[{label:"",value:""},{label:"Pass",value:"Pass"},{label:"Fail",value:"Fail"},{label:"Not Graded",value:"Not Graded"}]),j=e=>e==="Pass"?"green":e==="Not Graded"?"blue":"red",B=b(()=>[{label:"Assignment Submissions"}]);return C(()=>({title:__("Assignment Submissions"),icon:A.favicon})),(e,n)=>{const q=I("router-link");return i(),c(y,null,[p("header",X,[a(t(W),{items:B.value},null,8,["items"])]),p("div",Y,[p("div",Z,[a(V,{doctype:"LMS Assignment",modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=s=>o.value=s),placeholder:e.__("Assignment")},null,8,["modelValue","placeholder"]),a(V,{doctype:"User",modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=s=>r.value=s),placeholder:e.__("Member")},null,8,["modelValue","placeholder"]),a(t(U),{modelValue:l.value,"onUpdate:modelValue":n[2]||(n[2]=s=>l.value=s),type:"select",options:M.value,placeholder:e.__("Status")},null,8,["modelValue","options","placeholder"])]),t(u).loading||t(u).data?.length?(i(),v(t(J),{key:0,columns:S.value,rows:t(u).data,rowKey:"name"},{default:m(()=>[a(t(z),{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2"},{default:m(()=>[(i(!0),c(y,null,$(S.value,s=>(i(),v(t(G),{item:s},null,8,["item"]))),256))]),_:1}),a(t(T),null,{default:m(()=>[(i(!0),c(y,null,$(t(u).data,s=>(i(),v(q,{to:{name:"AssignmentSubmission",params:{assignmentID:s.assignment,submissionName:s.name}}},{default:m(()=>[a(t(E),{row:s},{default:m(({column:d,item:oe})=>[a(t(K),{item:s[d.key],align:d.align},{default:m(()=>[d.key=="status"?(i(),c("div",ee,[a(t(O),{theme:j(s[d.key])},{default:m(()=>[H(f(s[d.key]),1)]),_:2},1032,["theme"])])):(i(),c("div",se,f(s[d.key]),1))]),_:2},1032,["item","align"])]),_:2},1032,["row"])]),_:2},1032,["to"]))),256))]),_:1})]),_:1},8,["columns","rows"])):(i(),c("div",te,[a(t(Q),{class:"size-8 mx-auto stroke-1 text-ink-gray-4"}),p("div",ae,f(e.__("No submissions")),1),p("div",ne,f(e.__("There are no submissions for this assignment.")),1)]))])],64)}}};export{Ae as default};
