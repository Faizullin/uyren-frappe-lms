import{aa as k,bk as v,M as C,_ as x,d as n,e as m,f as p,bp as h,h as d,bq as B,br as w,n as i,g as u,p as a,k as f,j as y,t as U,F as b}from"./index-BIerRe8o.js";import"@headlessui/vue";import"@vueuse/core";import"@tiptap/extension-code-block-lowlight";import"@tiptap/extension-placeholder";import"@tiptap/extension-table";import"@tiptap/extension-table-cell";import"@tiptap/extension-table-header";import"@tiptap/extension-table-row";import"@tiptap/extension-text-align";import"@tiptap/extension-text-style";import"@tiptap/extension-typography";import"@tiptap/core";import"@tiptap/extension-code-block";import"@tiptap/extension-heading";import"@tiptap/vue-3";import"@tiptap/suggestion";import"@tiptap/extension-link";import"@tiptap/extension-mention";const F={name:"InsertImage",props:["editor"],expose:["openDialog"],data(){return{addVideoDialog:{url:"",file:null,show:!1}}},components:{Button:x,Dialog:C,FileUploader:v},methods:{openDialog(){this.addVideoDialog.show=!0},onVideoSelect(t){let o=t.target.files[0];o&&(this.addVideoDialog.file=o)},addVideo(t){t&&(this.editor.chain().focus().insertContent(`<video src="${t}"></video>`).run(),this.reset())},reset(){this.addVideoDialog=this.$options.data().addVideoDialog}}},I={class:"flex items-center space-x-2"},N=["src"],S={class:"flex gap-2"};function A(t,o,L,P,e,r){const s=n("Button"),g=n("FileUploader"),c=n("Dialog");return p(),m(b,null,[h(t.$slots,"default",B(w({onClick:r.openDialog}))),d(c,{options:{title:"Add Video"},modelValue:e.addVideoDialog.show,"onUpdate:modelValue":o[2]||(o[2]=l=>e.addVideoDialog.show=l),onAfterLeave:r.reset},{"body-content":i(()=>[d(g,{"file-types":"video/*",onSuccess:o[0]||(o[0]=l=>e.addVideoDialog.url=l.file_url)},{default:i(({file:l,progress:V,uploading:_,openFileSelector:D})=>[u("div",I,[d(s,{onClick:D},{default:i(()=>[a(U(_?`Uploading ${V}%`:e.addVideoDialog.url?"Change Video":"Upload Video"),1)]),_:2},1032,["onClick"]),e.addVideoDialog.url?(p(),y(s,{key:0,onClick:()=>{e.addVideoDialog.url=null,e.addVideoDialog.file=null}},{default:i(()=>o[3]||(o[3]=[a(" Remove ")])),_:2,__:[3]},1032,["onClick"])):f("",!0)])]),_:1}),e.addVideoDialog.url?(p(),m("video",{key:0,src:e.addVideoDialog.url,class:"mt-2 w-full rounded-lg",type:"video/mp4",controls:""},null,8,N)):f("",!0)]),actions:i(()=>[u("div",S,[d(s,{variant:"solid",onClick:o[1]||(o[1]=l=>r.addVideo(e.addVideoDialog.url))},{default:i(()=>o[4]||(o[4]=[a(" Insert Video ")])),_:1,__:[4]}),d(s,{onClick:r.reset},{default:i(()=>o[5]||(o[5]=[a("Cancel")])),_:1,__:[5]},8,["onClick"])])]),_:1},8,["modelValue","onAfterLeave"])],64)}const eo=k(F,[["render",A]]);export{eo as default};
