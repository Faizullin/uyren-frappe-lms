{"version":3,"file":"NumberChart.vue_vue_type_script_setup_true_lang-C1cuorLf.js","sources":["../../../../frontend-monorepo/packages/@mono-frappe-ui/src/components/Charts/helpers.ts","../../../../frontend-monorepo/packages/@mono-frappe-ui/src/components/Charts/eChartOptions.ts","../../../../frontend-monorepo/packages/@mono-frappe-ui/src/components/Charts/axisChartOptions.ts","../../../../frontend-monorepo/packages/@mono-frappe-ui/src/components/Charts/ECharts.vue","../../../../frontend-monorepo/packages/@mono-frappe-ui/src/components/Charts/AxisChart.vue","../../../../frontend-monorepo/packages/@mono-frappe-ui/src/components/Charts/NumberChart.vue"],"sourcesContent":["import { dayjs } from '../../utils/dayjs'\n\nexport function formatLabel(name: string) {\n  return name\n    .split('_')\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ')\n}\n\nexport function formatValue(value: number, precision = 0, shorten = false) {\n  if (isNaN(value)) return value.toString()\n\n  let locale = 'en-US'\n\n  if (shorten) {\n    let formatted = new Intl.NumberFormat(locale, {\n      notation: 'compact',\n      maximumFractionDigits: precision,\n    }).format(value)\n\n    if (locale == 'en-IN') {\n      formatted = formatted.replace('T', 'K')\n    }\n\n    return formatted\n  } else {\n    precision = precision || guessPrecision(value)\n    return new Intl.NumberFormat(locale, {\n      minimumFractionDigits: precision,\n      maximumFractionDigits: precision,\n    }).format(value)\n  }\n}\n\nfunction guessPrecision(number: number) {\n  if (!number || isNaN(number)) return 0\n  const str = number.toString()\n  const decimalIndex = str.indexOf('.')\n  if (decimalIndex === -1) return 0\n  return Math.min(str.length - decimalIndex - 1, 2)\n}\n\nexport type TimeGrain =\n  | 'second'\n  | 'minute'\n  | 'hour'\n  | 'day'\n  | 'week'\n  | 'month'\n  | 'quarter'\n  | 'year'\nexport function formatDate(date: string, format?: string, grain: TimeGrain = 'day') {\n  if (!date) return ''\n\n  if (grain) {\n    const grainToFormat: Record<TimeGrain, string> = {\n      second: 'MMMM D, YYYY h:mm:ss A',\n      minute: 'MMMM D, YYYY h:mm A',\n      hour: 'MMMM D, YYYY h:00 A',\n      day: 'MMMM D, YYYY',\n      week: 'MMM Do, YYYY',\n      month: 'MMMM, YYYY',\n      year: 'YYYY',\n      quarter: '[Q]Q, YYYY',\n    }\n\n    format = grainToFormat[grain]\n  }\n\n  if (!format) {\n    format = 'MMM D, YY'\n  }\n\n  return dayjs(date).format(format)\n}\n\n\nexport function isObject(item: any) {\n  return item && typeof item === 'object' && !Array.isArray(item)\n}\n\nexport function mergeDeep(target: any, ...sources: any[]) {\n  if (!sources.length) return target;\n  const source = sources.shift();\n\n  if (!source || !isObject(target) || !isObject(source)) {\n    // Skip the current source if it's not a proper object\n    return mergeDeep(target, ...sources);\n  }\n\n  let output = Object.assign({}, target);\n\n  Object.keys(source).forEach((key) => {\n    if (isObject(source[key])) {\n      if (!(key in output)) {\n        output[key] = source[key];\n      } else {\n        output[key] = mergeDeep(output[key], source[key]);\n      }\n    } else {\n      output[key] = source[key];\n    }\n  });\n\n  return mergeDeep(output, ...sources);\n}\n","import { formatDate, formatLabel, formatValue, mergeDeep } from './helpers'\nimport type { AxisChartConfig } from './types'\n\nexport const PADDING_TOP = 0\nexport const PADDING_BOTTOM = 10\nexport const AXIS_TITLE_HEIGHT = 20\nexport const LEGEND_HEIGHT = 30\nexport const LEGEND_BOTTOM = 10\nexport const TITLE_HEIGHT = 20\nexport const SUBTITLE_HEIGHT = 18\nexport const TITLE_BOTTOM = 24\n\nexport default function useEchartsOptions(config: AxisChartConfig) {\n  const title = config.title\n  const subtitle = config.subtitle\n  const hasTitle = title ? 1 : 0\n  const hasSubtitle = subtitle ? 1 : 0\n  const hasXAxisTitle = config.xAxis.title ? 1 : 0\n  const hasYAxisTitle = config.yAxis.title ? 1 : 0\n  const hasY2AxisTitle = config.y2Axis?.title ? 1 : 0\n  const hasLegend = config.series.length > 1 ? 1 : 0\n\n  const xAxisOptions = getXAxisOptions(config)\n  const yAxisOptions = getYAxisOptions(config)\n\n  return {\n    animation: true,\n    animationDuration: 700,\n    textStyle: { fontFamily: ['InterVar', 'sans-serif'] },\n    title: getTitleOptions(title, subtitle),\n    color: config.colors,\n    grid: {\n      left: '1%',\n      right: config.swapXY ? '2.5%' : '1.5%',\n      top:\n        PADDING_TOP +\n        TITLE_HEIGHT * hasTitle +\n        SUBTITLE_HEIGHT * hasSubtitle +\n        TITLE_BOTTOM,\n      bottom: PADDING_BOTTOM + LEGEND_HEIGHT * hasLegend,\n      containLabel: true,\n    },\n    xAxis: xAxisOptions,\n    yAxis: yAxisOptions,\n    series: [],\n    tooltip: {\n      show: true,\n      trigger: 'axis',\n      formatter: (params: Object | Array<Object>) => {\n        if (Array.isArray(params)) {\n          params = params\n            // remove zero values\n            .filter((p) => p.value?.[1] !== 0)\n            // sort in descending order by value\n            .sort((a, b) => b.value?.[1] - a.value?.[1])\n        }\n\n        if (!Array.isArray(params)) {\n          const p = params as any\n          const value = config.swapXY ? p.value[0] : p.value[1]\n          const formatted = isNaN(value) ? value : formatValue(value)\n          return `\n                <div class=\"flex items-center justify-between gap-5\">\n                  <div>${p.name}</div>\n                  <div class=\"font-bold\">${formatted}</div>\n                </div>\n              `\n        }\n\n        if (Array.isArray(params)) {\n          const t = params.map((p, idx) => {\n            const xValue = config.swapXY ? p.value[1] : p.value[0]\n            const yValue = config.swapXY ? p.value[0] : p.value[1]\n            const formattedX =\n              config.xAxis.type == 'time'\n                ? formatDate(xValue, undefined, config.xAxis.timeGrain)\n                : xValue\n            const formattedY = isNaN(yValue) ? yValue : formatValue(yValue)\n            return `\n              <div class=\"flex flex-col\">\n                ${idx == 0 ? `<div>${formattedX}</div>` : ''}\n                <div class=\"flex items-center justify-between gap-5\">\n                  <div class=\"flex gap-1 items-center\">\n                    ${p.marker}\n                    <div>${formatLabel(p.seriesName)}:</div>\n                  </div>\n                  <div class=\"font-bold\">${formattedY}</div>\n                </div>\n              </div>\n            `\n          })\n          return t.join('')\n        }\n      },\n      confine: true,\n      appendToBody: false,\n      axisPointer: {\n        type: 'shadow',\n      },\n    },\n    legend: {\n      show: hasLegend,\n      type: 'scroll',\n      bottom: LEGEND_BOTTOM,\n      orient: 'horizontal',\n      itemGap: 12,\n      padding: [0, 25],\n      formatter: function (name: string) {\n        return formatLabel(name)\n      },\n      textStyle: {\n        padding: [0, 0, 0, -5],\n        color: '#000',\n      },\n      icon: 'circle',\n      pageIcons: {\n        horizontal: [\n          'M 17 3 h 2 c 0.386 0 0.738 0.223 0.904 0.572 s 0.115 0.762 -0.13 1.062 L 11.292 15 l 8.482 10.367 c 0.245 0.299 0.295 0.712 0.13 1.062 S 19.386 27 19 27 h -2 c -0.3 0 -0.584 -0.135 -0.774 -0.367 l -9 -11 c -0.301 -0.369 -0.301 -0.898 0 -1.267 l 9 -11 C 16.416 3.135 16.7 3 17 3 Z',\n          'M 12 27 h -2 c -0.386 0 -0.738 -0.223 -0.904 -0.572 s -0.115 -0.762 0.13 -1.062 L 17.708 15 L 9.226 4.633 c -0.245 -0.299 -0.295 -0.712 -0.13 -1.062 S 9.614 3 10 3 h 2 c 0.3 0 0.584 0.135 0.774 0.367 l 9 11 c 0.301 0.369 0.301 0.898 0 1.267 l -9 11 C 12.584 26.865 12.3 27 12 27 Z',\n        ],\n      },\n      pageIconColor: '#64748B',\n      pageInactiveColor: '#C0CCDA',\n      pageIconSize: 10,\n      pageTextStyle: {\n        color: '#64748B',\n      },\n      animationDurationUpdate: 300,\n    },\n  }\n}\n\nexport function getTitleOptions(title: string, subtitle?: string) {\n  return {\n    top: '4px',\n    left: '0.8%',\n    text: title,\n    subtext: subtitle,\n    padding: 0,\n    itemGap: -3,\n    textStyle: {\n      fontSize: 14,\n      fontWeight: 500,\n      lineHeight: 24,\n      // color: titleColor\n    },\n    subtextStyle: {\n      fontSize: 13,\n      fontWeight: 400,\n      lineHeight: 20,\n      // color: subtitleColor,\n    },\n  }\n}\n\nfunction getXAxisOptions(config: AxisChartConfig) {\n  const options = config.swapXY\n    ? {\n        show: true,\n        type: 'value',\n        z: 2,\n        scale: false,\n        boundaryGap: false,\n        position: 'top',\n        name: `${config.yAxis.title} →`,\n        nameGap: 6,\n        nameLocation: 'end',\n        nameTextStyle: {\n          align: 'right',\n          verticalAlign: 'bottom',\n          padding: [0, 0, 26, 0],\n          // color: '#000',\n          backgroundColor: '#fff',\n          borderColor: '#fff',\n          borderWidth: 4,\n        },\n        splitLine: {\n          show: true,\n          width: 1,\n        },\n        axisLine: {\n          show: false,\n          onZero: false,\n        },\n        axisTick: {\n          show: false,\n          alignWithLabel: true,\n          formatter: function (value: number) {\n            return formatValue(value, 1, true)\n          },\n        },\n        axisLabel: {\n          show: true,\n          hideOverlap: true,\n          margin: 8,\n          formatter: function (value: number) {\n            return formatValue(value, 1, true)\n          },\n        },\n      }\n    : {\n        z: 2,\n        type: config.xAxis.type,\n        scale: true,\n        splitLine: {\n          show: false,\n        },\n        axisLine: {\n          show: true,\n        },\n        axisTick: {\n          show: false,\n          alignWithLabel: true,\n        },\n        axisLabel: {\n          show: true,\n          hideOverlap: true,\n          showMaxLabel:\n            config.xAxis.type === 'category' || config.xAxis.type === 'value',\n          margin: 8,\n        },\n      }\n\n  return mergeDeep(options, config.swapXY ? config.yAxis.echartOptions : config.xAxis.echartOptions)\n}\n\nfunction getYAxisOptions(config: AxisChartConfig) {\n  let primaryYAxisOptions = config.swapXY\n    ? {\n        show: true,\n        type: config.xAxis.type,\n        z: 2,\n        scale: true,\n        inverse: 'true',\n        splitLine: {\n          show: false,\n        },\n        axisLine: {\n          show: true,\n        },\n        axisTick: {\n          show: false,\n          alignWithLabel: true,\n        },\n        axisLabel: {\n          show: true,\n          hideOverlap: true,\n          margin: 6,\n        },\n      }\n    : {\n        show: true,\n        type: 'value',\n        z: 2,\n        scale: false,\n        boundaryGap: ['0%', '1%'],\n        name: `↑ ${config.yAxis.title}`,\n        nameGap: 6,\n        nameLocation: 'end',\n        nameTextStyle: {\n          align: 'left',\n          verticalAlign: 'top',\n          padding: [0, 0, 0, -2],\n          // color: '#000',\n          backgroundColor: '#fff',\n          borderColor: '#fff',\n          borderWidth: 4,\n        },\n        splitLine: {\n          show: true,\n          width: 1,\n        },\n        axisLine: {\n          show: false,\n          onZero: false,\n        },\n        axisTick: {\n          show: false,\n          alignWithLabel: true,\n        },\n        axisLabel: {\n          show: true,\n          hideOverlap: true,\n          margin: 8,\n          formatter: function (value: number) {\n            return formatValue(value, 1, true)\n          },\n        },\n        min: config.yAxis.yMin,\n        max: config.yAxis.yMax,\n      }\n\n  primaryYAxisOptions = mergeDeep(\n    primaryYAxisOptions,\n    config.swapXY ? config.xAxis.echartOptions : config.yAxis.echartOptions\n  )\n\n  let secondaryYAxisOptions = {\n    show: false,\n    type: 'value',\n    z: 2,\n    alignTicks: true,\n    scale: false,\n    boundaryGap: ['0%', '1%'],\n    name: `${config.y2Axis?.title} ↑`,\n    nameLocation: 'end',\n    nameTextStyle: {\n      align: 'right',\n      verticalAlign: 'top',\n      padding: [0, 5, 0, 0],\n      // color: '#000',\n      backgroundColor: '#fff',\n    },\n    nameGap: 6,\n    splitLine: {\n      show: true,\n      width: 1,\n    },\n    axisLine: {\n      show: false,\n      onZero: false,\n    },\n    axisTick: {\n      show: false,\n      alignWithLabel: true,\n    },\n    axisLabel: {\n      show: true,\n      hideOverlap: true,\n      margin: 8,\n      formatter: function (value: number) {\n        return formatValue(value, 1, true)\n      },\n      // color: '#000',\n    },\n    min: config.y2Axis?.yMin,\n    max: config.y2Axis?.yMax,\n  }\n\n  secondaryYAxisOptions = mergeDeep(\n    secondaryYAxisOptions,\n    config.swapXY ? config.y2Axis?.echartOptions : config.y2Axis?.echartOptions\n  )\n\n  return config.swapXY\n    ? [primaryYAxisOptions]\n    : [primaryYAxisOptions, secondaryYAxisOptions]\n}\n","import useEchartsOptions from \"./eChartOptions\";\nimport { formatValue, mergeDeep } from \"./helpers\";\nimport type {\n\tAreaSeriesConfig,\n\tAxisChartConfig,\n\tBarSeriesConfig,\n\tLineSeriesConfig,\n} from \"./types\";\n\nexport default function useAxisChartOptions(config: AxisChartConfig) {\n\tconst data = config.data || [];\n\tconst baseOptions = useEchartsOptions(config);\n\n\tif (config.xAxis.type === \"time\" && config.swapXY) {\n\t\tthrow new Error(\"Swap axes is not supported for time series data\");\n\t}\n\n\tif (\n\t\tconfig.series.find((s) => s.axis === \"y2\" || s.type !== \"bar\") &&\n\t\tconfig.swapXY\n\t) {\n\t\tthrow new Error(\"Swap axes is not supported for non-bar series or y2 axis\");\n\t}\n\n\tconst swapXY = config.swapXY;\n\tconst lastBarSeriesIdx = config.series\n\t\t.slice()\n\t\t.reverse()\n\t\t.findIndex((s) => s.type === \"bar\");\n\tconst hasY2 = config.series.some((s) => s.axis === \"y2\");\n\n\tif (hasY2) {\n\t\tbaseOptions.yAxis[1].show = true;\n\t}\n\n\tbaseOptions.series = config.series.map((s, idx) => {\n\t\tlet labelPosition = \"top\";\n\t\tif (s.type == \"bar\" && config.stacked) {\n\t\t\tlabelPosition = idx == lastBarSeriesIdx ? \"top\" : \"inside\";\n\t\t}\n\t\tif (s.type == \"bar\" && swapXY) {\n\t\t\tlabelPosition = \"right\";\n\t\t}\n\n\t\tconst standardSeriesOptions = {\n\t\t\ttype: s.type,\n\t\t\tname: s.name,\n\t\t\tdata: data.map((row: any) => {\n\t\t\t\tlet x, y;\n\t\t\t\tif (swapXY) {\n\t\t\t\t\tx = row[s.name];\n\t\t\t\t\ty = row[config.xAxis.key];\n\t\t\t\t} else {\n\t\t\t\t\tx = row[config.xAxis.key];\n\t\t\t\t\ty = row[s.name];\n\t\t\t\t}\n\t\t\t\treturn [x, y];\n\t\t\t}),\n\t\t\tyAxisIndex: s.axis === \"y2\" ? 1 : 0,\n\t\t\tlabel: {\n\t\t\t\tshow: s.showDataLabels,\n\t\t\t\tposition: labelPosition,\n\t\t\t\tformatter: (params: any) => {\n\t\t\t\t\tconst _val = swapXY ? params.value?.[0] : params.value?.[1];\n\t\t\t\t\treturn formatValue(_val, 1, true);\n\t\t\t\t},\n\t\t\t\tfontSize: 11,\n\t\t\t},\n\t\t\tlabelLayout: { hideOverlap: true },\n\t\t\titemStyle: {\n\t\t\t\tcolor: s.color,\n\t\t\t},\n\t\t};\n\n\t\tlet seriesTypeOptions = {};\n\t\tif (s.type === \"bar\") {\n\t\t\tseriesTypeOptions = getBarSeriesOptions(config, s);\n\t\t}\n\t\tif (s.type === \"line\") {\n\t\t\tseriesTypeOptions = getLineSeriesOptions(config, s);\n\t\t}\n\t\tif (s.type === \"area\") {\n\t\t\tseriesTypeOptions = getAreaSeriesOptions(config, s);\n\t\t}\n\n\t\treturn mergeDeep(standardSeriesOptions, seriesTypeOptions, s.echartOptions);\n\t});\n\n\treturn mergeDeep(baseOptions, config.echartOptions);\n}\n\nfunction getBarSeriesOptions(config: AxisChartConfig, series: BarSeriesConfig) {\n\tconst roundedCorners = config.swapXY ? [0, 2, 2, 0] : [2, 2, 0, 0];\n\tconst idx = config.series.findIndex((s) => s.name === series.name);\n\tconst lastBarSeriesIdx = config.series\n\t\t.slice()\n\t\t.reverse()\n\t\t.findIndex((s) => s.type === \"bar\");\n\n\tconst isLastBar = lastBarSeriesIdx === idx;\n\n\treturn {\n\t\tstack: config.stacked ? \"stack\" : undefined,\n\t\tbarMaxWidth: 60,\n\t\titemStyle: {\n\t\t\tborderRadius: config.stacked\n\t\t\t\t? isLastBar\n\t\t\t\t\t? roundedCorners\n\t\t\t\t\t: 0\n\t\t\t\t: roundedCorners,\n\t\t},\n\t};\n}\n\nfunction getLineSeriesOptions(\n\tconfig: AxisChartConfig,\n\tseries: LineSeriesConfig,\n) {\n\tconst showSymbol = series.showDataPoints || series.showDataLabels;\n\treturn {\n\t\tconnectNulls: true,\n\t\tsymbol: \"circle\",\n\t\tsymbolSize: 7,\n\t\tshowSymbol: showSymbol,\n\t\temphasis: {},\n\t\tlineStyle: {\n\t\t\twidth: series.lineWidth || 2,\n\t\t\ttype: series.lineType,\n\t\t},\n\t};\n}\n\nfunction getAreaSeriesOptions(\n\tconfig: AxisChartConfig,\n\tseries: AreaSeriesConfig,\n) {\n\treturn {\n\t\ttype: \"line\",\n\t\tshowSymbol: series.showDataPoints,\n\t\tareaStyle: {\n\t\t\tcolor: series.color,\n\t\t\topacity: series.fillOpacity || 0.5,\n\t\t},\n\t};\n}\n","<script setup lang=\"ts\">\nimport { EChartsOption, init } from 'echarts'\nimport { onBeforeUnmount, onMounted, ref, watch } from 'vue'\nimport debounce from '../../utils/debounce'\n\nconst props = defineProps<{\n  options: EChartsOption\n  events?: {\n    click: (params: any) => void\n  }\n  error?: string\n}>()\n\nlet chart: echarts.ECharts\nconst chartDiv = ref<HTMLDivElement>()\n\nonMounted(() => {\n  if (!chartDiv.value) return\n\n  chart = init(chartDiv.value, 'light', { renderer: 'svg' })\n  chart.setOption({ ...props.options }, true)\n\n  if (props.events?.click) {\n    chart.on('click', props.events.click)\n  }\n\n  const resizeDebounce = debounce(() => {\n    chart.resize({\n      animation: {\n        duration: 300,\n      },\n    })\n  }, 250)\n\n  let resizeObserver = new ResizeObserver(resizeDebounce)\n  setTimeout(() => resizeObserver.observe(chartDiv.value!), 500)\n  onBeforeUnmount(() => resizeObserver.unobserve(chartDiv.value!))\n})\n\nwatch(\n  () => props.options,\n  (newOptions) => {\n    if (chart) {\n      chart.setOption(newOptions, true)\n    }\n  },\n  { deep: true },\n)\n</script>\n\n<template>\n  <div\n    ref=\"chartDiv\"\n    v-show=\"!error\"\n    class=\"h-full w-full min-w-[300px] md:min-w-[400px] min-h-[300px] px-4 py-2\"\n  ></div>\n  <div\n    v-show=\"error\"\n    class=\"flex h-full w-full items-center justify-center text-center text-red-500\"\n  >\n    Error: {{ error }}\n  </div>\n</template>\n","<template>\n  <ECharts :options=\"options\" :error=\"error\" />\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from 'vue'\nimport useAxisChartOptions from './axisChartOptions'\nimport ECharts from './ECharts.vue'\nimport type { AxisChartConfig } from './types';\n\nconst props = defineProps<{ config: AxisChartConfig }>()\n\nconst error = ref('')\nconst options = computed(() => {\n  try {\n    return useAxisChartOptions(props.config)\n  } catch (e: any) {\n    error.value = e.message\n    return {}\n  }\n})\n</script>\n","<template>\n  <div\n    class=\"flex max-h-[140px] items-center gap-2 overflow-hidden bg-white px-6 pt-5\"\n    :class=\"config.delta ? 'pb-6' : 'pb-3'\"\n  >\n    <div class=\"flex w-full flex-col\">\n      <span class=\"truncate text-sm font-medium\">\n        {{ config.title }}\n      </span>\n      <div\n        class=\"flex-1 flex-shrink-0 truncate text-[24px] font-semibold leading-10\"\n      >\n        {{ config.prefix }}{{ formatValue(config.value, 1, true)\n        }}{{ config.suffix }}\n      </div>\n      <div\n        v-if=\"config.delta\"\n        class=\"flex items-center gap-0.5 text-xs font-medium\"\n        :class=\"[\n          config.negativeIsBetter\n            ? config.delta >= 0\n              ? 'text-red-500'\n              : 'text-green-500'\n            : config.delta >= 0\n              ? 'text-green-500'\n              : 'text-red-500',\n        ]\"\n      >\n        <span class=\"\">\n          {{ config.delta >= 0 ? '↑' : '↓' }}\n        </span>\n        <span>\n          {{ config.deltaPrefix }}{{ formatValue(config.delta, 1, true)\n          }}{{ config.deltaSuffix }}\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { formatValue } from './helpers'\nimport { NumberChartConfig } from './types'\n\nconst props = defineProps<{ config: NumberChartConfig }>()\nconst error = ref('')\n</script>\n"],"names":["formatLabel","name","word","formatValue","value","precision","shorten","locale","guessPrecision","number","str","decimalIndex","formatDate","date","format","grain","dayjs","isObject","item","mergeDeep","target","sources","source","output","key","PADDING_TOP","PADDING_BOTTOM","LEGEND_HEIGHT","LEGEND_BOTTOM","TITLE_HEIGHT","SUBTITLE_HEIGHT","TITLE_BOTTOM","useEchartsOptions","config","title","subtitle","hasTitle","hasSubtitle","hasLegend","xAxisOptions","getXAxisOptions","yAxisOptions","getYAxisOptions","getTitleOptions","params","a","b","formatted","p","idx","xValue","yValue","formattedX","formattedY","options","primaryYAxisOptions","secondaryYAxisOptions","useAxisChartOptions","data","baseOptions","s","swapXY","lastBarSeriesIdx","labelPosition","standardSeriesOptions","row","y","_val","seriesTypeOptions","getBarSeriesOptions","getLineSeriesOptions","getAreaSeriesOptions","series","roundedCorners","isLastBar","props","__props","chart","chartDiv","ref","onMounted","init","resizeDebounce","debounce","resizeObserver","onBeforeUnmount","watch","newOptions","_createElementVNode","error","_withDirectives","computed","e","_createBlock","ECharts","_createElementBlock","_normalizeClass","_hoisted_1","_hoisted_2","_toDisplayString","_hoisted_3","_unref","_hoisted_4"],"mappings":"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"}