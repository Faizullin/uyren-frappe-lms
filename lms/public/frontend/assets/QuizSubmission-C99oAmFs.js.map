{"version":3,"file":"QuizSubmission-C99oAmFs.js","sources":["../../../../frontend-monorepo/website/src/pages/QuizSubmission.vue"],"sourcesContent":["<template>\n\t<header\n\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n\t>\n\t\t<Breadcrumbs v-if=\"submissionDetails.doc\" :items=\"breadcrumbs\" />\n\t\t<div class=\"space-x-2\">\n\t\t\t<Badge\n\t\t\t\tv-if=\"submissionDetails.isDirty\"\n\t\t\t\t:label=\"__('Not Saved')\"\n\t\t\t\tvariant=\"subtle\"\n\t\t\t\ttheme=\"orange\"\n\t\t\t/>\n\t\t\t<Button variant=\"solid\" @click=\"saveSubmission()\">\n\t\t\t\t{{ __('Save') }}\n\t\t\t</Button>\n\t\t</div>\n\t</header>\n\t<div v-if=\"submissionDetails.doc\" class=\"w-2/3 border-x mx-auto py-5\">\n\t\t<div class=\"text-xl px-10 font-semibold text-ink-gray-9 mb-5\">\n\t\t\t{{ submissionDetails.doc.member_name }}\n\t\t</div>\n\t\t<div class=\"space-y-4 border-b pb-5 px-10\">\n\t\t\t<div class=\"grid grid-cols-2 gap-5\">\n\t\t\t\t<FormControl\n\t\t\t\t\tv-model=\"submissionDetails.doc.quiz_title\"\n\t\t\t\t\t:label=\"__('Quiz')\"\n\t\t\t\t\t:disabled=\"true\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tv-model=\"submissionDetails.doc.member_name\"\n\t\t\t\t\t:label=\"__('Member')\"\n\t\t\t\t\t:disabled=\"true\"\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div class=\"grid grid-cols-2 gap-5\">\n\t\t\t\t<FormControl\n\t\t\t\t\tv-model=\"submissionDetails.doc.score\"\n\t\t\t\t\t:label=\"__('Score')\"\n\t\t\t\t\t:disabled=\"true\"\n\t\t\t\t/>\n\t\t\t\t<FormControl\n\t\t\t\t\tv-model=\"submissionDetails.doc.percentage\"\n\t\t\t\t\t:label=\"__('Percentage')\"\n\t\t\t\t\t:disabled=\"true\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"divide-y\">\n\t\t\t<div\n\t\t\t\tv-for=\"(row, index) in submissionDetails.doc.result\"\n\t\t\t\tclass=\"py-5 px-10 space-y-4\"\n\t\t\t>\n\t\t\t\t<div class=\"text-ink-gray-9\">\n\t\t\t\t\t<span class=\"font-semibold\"> {{ __('Question') }}: </span>\n\t\t\t\t\t<span class=\"leading-5\" v-html=\"row.question\"> </span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"\">\n\t\t\t\t\t<span class=\"font-semibold\"> {{ __('Answer') }} </span>\n\t\t\t\t\t<span class=\"leading-5\" v-html=\"row.answer\"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"grid grid-cols-2 gap-5\">\n\t\t\t\t\t<FormControl v-model=\"row.marks\" :label=\"__('Marks')\" />\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"row.marks_out_of\"\n\t\t\t\t\t\t:label=\"__('Marks out of')\"\n\t\t\t\t\t\t:disabled=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport {\n\tcreateDocumentResource,\n\tBreadcrumbs,\n\tFormControl,\n\tButton,\n\tBadge,\n\tusePageMeta,\n\ttoast,\n} from '@mono/mono-frappe-ui'\nimport { computed, onBeforeUnmount, onMounted, inject } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { sessionStore } from '@/stores/session'\n\nconst { brand } = sessionStore()\nconst router = useRouter()\nconst user = inject('$user')\n\nonMounted(() => {\n\tif (!user.data?.is_instructor && !user.data?.is_moderator)\n\t\trouter.push({ name: 'Courses' })\n\n\twindow.addEventListener('keydown', keyboardShortcut)\n})\n\nonBeforeUnmount(() => {\n\twindow.removeEventListener('keydown', keyboardShortcut)\n})\n\nconst keyboardShortcut = (e) => {\n\tif (\n\t\te.key === 's' &&\n\t\t(e.ctrlKey || e.metaKey) &&\n\t\t!e.target.classList.contains('ProseMirror')\n\t) {\n\t\tsaveSubmission()\n\t\te.preventDefault()\n\t}\n}\n\nconst props = defineProps({\n\tsubmission: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst submissionDetails = createDocumentResource({\n\tdoctype: 'LMS Quiz Submission',\n\tname: props.submission,\n\tauto: true,\n})\n\nconst breadcrumbs = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: __('Quiz Submissions'),\n\t\t\troute: {\n\t\t\t\tname: 'QuizSubmissionList',\n\t\t\t\tparams: {\n\t\t\t\t\tquizID: submissionDetails.doc.quiz,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tlabel: submissionDetails.doc.quiz_title,\n\t\t},\n\t]\n})\n\nconst saveSubmission = () => {\n\tsubmissionDetails.save.submit(\n\t\t{},\n\t\t{\n\t\t\tonError(err) {\n\t\t\t\ttoast.error(err.messages?.[0] || err)\n\t\t\t},\n\t\t}\n\t)\n}\n\nusePageMeta(() => {\n\treturn {\n\t\ttitle: `${submissionDetails.doc?.quiz_title}`,\n\t\ticon: brand.favicon,\n\t}\n})\n</script>\n"],"names":["brand","sessionStore","router","useRouter","user","inject","onMounted","keyboardShortcut","onBeforeUnmount","e","saveSubmission","submissionDetails","createDocumentResource","__props","breadcrumbs","computed","err","toast","usePageMeta","_createElementVNode","_hoisted_1","_unref","_createBlock","Breadcrumbs","_hoisted_2","Badge","__","_createVNode","Button","_openBlock","_createElementBlock","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","FormControl","$event","_hoisted_7","_hoisted_8","_Fragment","_renderList","row","index","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_16"],"mappings":"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"}