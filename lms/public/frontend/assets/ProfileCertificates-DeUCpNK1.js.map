{"version":3,"file":"ProfileCertificates-DeUCpNK1.js","sources":["../../../../frontend-monorepo/website/src/pages/ProfileCertificates.vue"],"sourcesContent":["<template>\n\t<div class=\"mt-7 mb-10\">\n\t\t<h2 class=\"mb-3 text-lg font-semibold text-ink-gray-9\">\n\t\t\t{{ __('Certificates') }}\n\t\t</h2>\n\t\t<div class=\"grid grod-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n\t\t\t<div\n\t\t\t\tv-for=\"certificate in certificates.data\"\n\t\t\t\t:key=\"certificate.name\"\n\t\t\t\tclass=\"flex flex-col bg-surface-white border rounded-lg p-3 cursor-pointer hover:bg-surface-menu-bar\"\n\t\t\t\t@click=\"openCertificate(certificate)\"\n\t\t\t>\n\t\t\t\t<div class=\"font-medium leading-5 mb-2 text-ink-gray-9\">\n\t\t\t\t\t{{ certificate.course_title || certificate.batch_title }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-sm text-ink-gray-7 font-medium mt-auto\">\n\t\t\t\t\t<span> {{ __('Issued on') }}: </span>\n\t\t\t\t\t{{ dayjs(certificate.issue_date).format('DD MMM YYYY') }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport { createListResource } from '@mono/mono-frappe-ui'\nimport { inject, onMounted } from 'vue'\n\nconst dayjs = inject('$dayjs')\nconst props = defineProps({\n\tprofile: {\n\t\ttype: Object,\n\t\trequired: true,\n\t},\n})\n\nonMounted(() => {\n\tif (props.profile.data?.name) {\n\t\tcertificates.reload()\n\t}\n})\n\nconst certificates = createListResource({\n\tdoctype: 'LMS Certificate',\n\tfilters: {\n\t\tmember: props.profile.data?.name,\n\t},\n\tfields: ['name', 'course_title', 'batch_title', 'issue_date', 'template'],\n\tcache: ['certificates', props.profile.data?.name],\n})\n\nconst openCertificate = (certificate) => {\n\twindow.open(\n\t\t`/api/method/frappe.utils.print_format.download_pdf?doctype=LMS+Certificate&name=${\n\t\t\tcertificate.name\n\t\t}&format=${encodeURIComponent(certificate.template)}`\n\t)\n}\n</script>\n"],"names":["dayjs","inject","props","__props","onMounted","certificates","createListResource","openCertificate","certificate","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","__","_hoisted_3","_Fragment","_renderList","_unref","$event","_hoisted_5","_hoisted_6","_createTextVNode"],"mappings":"mdA2BA,MAAMA,EAAQC,EAAO,QAAQ,EACvBC,EAAQC,EAOdC,EAAU,IAAM,CACXF,EAAM,QAAQ,MAAM,MACvBG,EAAa,OAAM,CAErB,CAAC,EAED,MAAMA,EAAeC,EAAmB,CACvC,QAAS,kBACT,QAAS,CACR,OAAQJ,EAAM,QAAQ,MAAM,IAC9B,EACC,OAAQ,CAAC,OAAQ,eAAgB,cAAe,aAAc,UAAU,EACxE,MAAO,CAAC,eAAgBA,EAAM,QAAQ,MAAM,IAAI,CACjD,CAAC,EAEKK,EAAmBC,GAAgB,CACxC,OAAO,KACN,mFACCA,EAAY,IACf,WAAa,mBAAmBA,EAAY,QAAQ,CAAC,EACrD,CACA,gBAvDCC,EAAA,EAAAC,EAoBM,MApBNC,EAoBM,CAnBLC,EAEK,KAFLC,EAEKC,EADDC,EAAAA,GAAE,cAAA,CAAA,EAAA,CAAA,EAENH,EAeM,MAfNI,EAeM,EAdLP,EAAA,EAAA,EAAAC,EAaMO,EAAA,KAAAC,EAZiBC,EAAAd,CAAA,EAAa,KAA5BG,QADRE,EAaM,MAAA,CAXJ,IAAKF,EAAY,KAClB,MAAM,gGACL,QAAKY,GAAEb,EAAgBC,CAAW,IAEnCI,EAEM,MAFNS,EAEMP,EADFN,EAAY,cAAgBA,EAAY,WAAW,EAAA,CAAA,EAEvDI,EAGM,MAHNU,EAGM,CAFLV,EAAqC,OAAA,KAAAE,EAA3BC,EAAAA,GAAE,WAAA,CAAA,EAAgB,KAAE,CAAA,EAAOQ,EAAA,MAClCJ,EAAAnB,CAAA,EAAMQ,EAAY,UAAU,EAAE,OAAM,aAAA,CAAA,EAAA,CAAA"}