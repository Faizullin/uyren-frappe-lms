{"version":3,"file":"Rating.vue_vue_type_script_setup_true_lang-BUFTgcFs.js","sources":["../../../../frontend-monorepo/packages/@mono-frappe-ui/src/components/Rating/Rating.vue"],"sourcesContent":["<template>\n  <div class=\"space-y-1\">\n    <label class=\"block text-xs text-ink-gray-5\" v-if=\"label\">\n      {{ label }}\n    </label>\n    <div class=\"flex text-center\">\n      <div\n        v-for=\"index in rating_from\"\n        :key=\"index\"\n        @mouseover=\"() => !readonly && (hoveredRating = index)\"\n        @mouseleave=\"() => !readonly && (hoveredRating = 0)\"\n      >\n        <FeatherIcon\n          name=\"star\"\n          class=\"fill-gray-300 text-transparent mr-0.5\"\n          :class=\"iconClasses(index)\"\n          @click=\"markRating(index)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch } from 'vue'\nimport FeatherIcon from '../FeatherIcon.vue'\nimport type { RatingProps } from './types'\n\nconst props = withDefaults(defineProps<RatingProps>(), {\n  modelValue: 0,\n  rating_from: 5,\n  size: 'md',\n  readonly: false,\n})\n\nconst emit = defineEmits(['update:modelValue'])\nconst rating = ref(props.modelValue)\nconst hoveredRating = ref(0)\n\nconst iconClasses = (index: number) => {\n  let classes = [\n    {\n      sm: 'size-4',\n      md: 'size-5',\n      lg: 'size-6',\n      xl: 'size-7',\n    }[props.size],\n  ]\n\n  if (index <= hoveredRating.value && index > rating.value) {\n    classes.push('!fill-yellow-200')\n  } else if (index <= rating.value) {\n    classes.push('!fill-yellow-500')\n  }\n\n  if (!props.readonly) {\n    classes.push('cursor-pointer')\n  }\n  return classes.join(' ')\n}\n\nconst emitChange = (value: number) => {\n  emit('update:modelValue', value)\n}\n\nconst markRating = (index: number) => {\n  if (props.readonly) return\n  emitChange(index)\n  rating.value = index\n}\n\nwatch(\n  () => props.modelValue,\n  (newVal) => {\n    rating.value = newVal\n  },\n)\n</script>\n"],"names":["props","__props","emit","__emit","rating","ref","hoveredRating","iconClasses","index","classes","emitChange","value","markRating","watch","newVal","_openBlock","_createElementBlock","_hoisted_1","label","_hoisted_2","_toDisplayString","_createElementVNode","_hoisted_3","_Fragment","_renderList","rating_from","readonly","_cache","_createVNode","FeatherIcon","_normalizeClass","$event"],"mappings":"mbA4BA,MAAMA,EAAQC,EAORC,EAAOC,EACPC,EAASC,EAAIL,EAAM,UAAU,EAC7BM,EAAgBD,EAAI,CAAC,EAErBE,EAAeC,GAAkB,CACrC,IAAIC,EAAU,CACZ,CACE,GAAI,SACJ,GAAI,SACJ,GAAI,SACJ,GAAI,QAAA,EACJT,EAAM,IAAI,CAAA,EAGd,OAAIQ,GAASF,EAAc,OAASE,EAAQJ,EAAO,MACjDK,EAAQ,KAAK,kBAAkB,EACtBD,GAASJ,EAAO,OACzBK,EAAQ,KAAK,kBAAkB,EAG5BT,EAAM,UACTS,EAAQ,KAAK,gBAAgB,EAExBA,EAAQ,KAAK,GAAG,CAAA,EAGnBC,EAAcC,GAAkB,CACpCT,EAAK,oBAAqBS,CAAK,CAAA,EAG3BC,EAAcJ,GAAkB,CAChCR,EAAM,WACVU,EAAWF,CAAK,EAChBJ,EAAO,MAAQI,EAAA,EAGjB,OAAAK,EACE,IAAMb,EAAM,WACXc,GAAW,CACVV,EAAO,MAAQU,CAAA,CACjB,UA1EAC,EAAA,EAAAC,EAmBM,MAnBNC,EAmBM,CAlB+CC,EAAAA,WAAnDF,EAEQ,QAFRG,EAEQC,EADHF,EAAAA,KAAK,EAAA,CAAA,YAEVG,EAcM,MAdNC,EAcM,QAbJN,EAYMO,EAAA,KAAAC,EAXYC,EAAAA,YAATjB,QADTQ,EAYM,MAAA,CAVH,IAAKR,EACL,YAAS,IAAA,CAASkB,EAAAA,WAAapB,EAAA,MAAgBE,GAC/C,aAAUmB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,IAAA,CAASD,EAAAA,WAAapB,EAAA,MAAa,GAAA,GAE9CsB,EAKEC,EAAA,CAJA,KAAK,OACL,MAAKC,EAAA,CAAC,wCACEvB,EAAYC,CAAK,CAAA,CAAA,EACxB,QAAKuB,GAAEnB,EAAWJ,CAAK,CAAA"}