{"version":3,"file":"Quiz-Cbsn2YiH.js","sources":["../../../../frontend-monorepo/website/src/components/Quiz.vue"],"sourcesContent":["<template>\n\t<div v-if=\"quiz.data\">\n\t\t<div\n\t\t\tclass=\"bg-surface-blue-2 space-y-1 py-2 px-2 mb-4 rounded-md text-sm text-ink-blue-3 leading-5\"\n\t\t>\n\t\t\t<div v-if=\"inVideo\">\n\t\t\t\t{{ __('You will have to complete the quiz to continue the video') }}\n\t\t\t</div>\n\t\t\t<div class=\"leading-5\">\n\t\t\t\t{{\n\t\t\t\t\t__('This quiz consists of {0} questions.').format(questions.length)\n\t\t\t\t}}\n\t\t\t</div>\n\t\t\t<div v-if=\"quiz.data?.duration\" class=\"leading-5\">\n\t\t\t\t{{\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Please ensure that you complete all the questions in {0} minutes.'\n\t\t\t\t\t).format(quiz.data.duration)\n\t\t\t\t}}\n\t\t\t</div>\n\t\t\t<div v-if=\"quiz.data?.duration\" class=\"leading-5\">\n\t\t\t\t{{\n\t\t\t\t\t__(\n\t\t\t\t\t\t'If you fail to do so, the quiz will be automatically submitted when the timer ends.'\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</div>\n\t\t\t<div v-if=\"quiz.data.passing_percentage\" class=\"leading-relaxed\">\n\t\t\t\t{{\n\t\t\t\t\t__(\n\t\t\t\t\t\t'You will have to get {0}% correct answers in order to pass the quiz.'\n\t\t\t\t\t).format(quiz.data.passing_percentage)\n\t\t\t\t}}\n\t\t\t</div>\n\t\t\t<div v-if=\"quiz.data.max_attempts\" class=\"leading-5\">\n\t\t\t\t{{\n\t\t\t\t\t__('You can attempt this quiz {0}.').format(\n\t\t\t\t\t\tquiz.data.max_attempts == 1\n\t\t\t\t\t\t\t? '1 time'\n\t\t\t\t\t\t\t: `${quiz.data.max_attempts} times`\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div v-if=\"quiz.data.duration\" class=\"flex flex-col space-x-1 my-4\">\n\t\t\t<div class=\"mb-2\">\n\t\t\t\t<span class=\"\"> {{ __('Time') }}: </span>\n\t\t\t\t<span class=\"font-semibold\">\n\t\t\t\t\t{{ formatTimer(timer) }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<ProgressBar :progress=\"timerProgress\" />\n\t\t</div>\n\n\t\t<div v-if=\"activeQuestion == 0\">\n\t\t\t<div class=\"border text-center p-20 rounded-md\">\n\t\t\t\t<div class=\"font-semibold text-lg text-ink-gray-9\">\n\t\t\t\t\t{{ quiz.data.title }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex items-center justify-center space-x-2 mt-4\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t\t!quiz.data.max_attempts ||\n\t\t\t\t\t\t\tattempts.data?.length < quiz.data.max_attempts\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t\t@click=\"startQuiz\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{{ inVideo ? __('Start the Quiz') : __('Start') }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button v-if=\"inVideo\" @click=\"props.backToVideo()\">\n\t\t\t\t\t\t{{ __('Resume Video') }}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"\n\t\t\t\t\t\tquiz.data.max_attempts &&\n\t\t\t\t\t\tattempts.data?.length >= quiz.data.max_attempts\n\t\t\t\t\t\"\n\t\t\t\t\tclass=\"leading-5 text-ink-gray-7\"\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'You have already exceeded the maximum number of attempts allowed for this quiz.'\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-else-if=\"!quizSubmission.data\">\n\t\t\t<div v-for=\"(question, qtidx) in questions\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"qtidx == activeQuestion - 1 && questionDetails.data\"\n\t\t\t\t\tclass=\"border rounded-md p-5\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t<div class=\"text-sm text-ink-gray-5\">\n\t\t\t\t\t\t\t<span class=\"mr-2\">\n\t\t\t\t\t\t\t\t{{ __('Question {0}').format(activeQuestion) }}:\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{ getInstructions(questionDetails.data) }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"text-ink-gray-9 text-sm font-semibold item-left\">\n\t\t\t\t\t\t\t{{ question.marks }}\n\t\t\t\t\t\t\t{{ question.marks == 1 ? __('Mark') : __('Marks') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"text-ink-gray-9 font-semibold mt-2 leading-5\"\n\t\t\t\t\t\tv-html=\"questionDetails.data.question\"\n\t\t\t\t\t></div>\n\t\t\t\t\t<div v-if=\"questionDetails.data.type == 'Choices'\" v-for=\"index in 4\">\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\tv-if=\"questionDetails.data[`option_${index}`]\"\n\t\t\t\t\t\t\tclass=\"flex items-center bg-surface-gray-3 rounded-md p-3 mt-4 w-full cursor-pointer focus:border-blue-600\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tv-if=\"!showAnswers.length && !questionDetails.data.multiple\"\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t:name=\"encodeURIComponent(questionDetails.data.question)\"\n\t\t\t\t\t\t\t\tclass=\"w-3.5 h-3.5 text-ink-gray-9 focus:ring-outline-gray-modals\"\n\t\t\t\t\t\t\t\t@change=\"markAnswer(index)\"\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tv-else-if=\"!showAnswers.length && questionDetails.data.multiple\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t:name=\"encodeURIComponent(questionDetails.data.question)\"\n\t\t\t\t\t\t\t\tclass=\"w-3.5 h-3.5 text-ink-gray-9 rounded-sm focus:ring-outline-gray-modals\"\n\t\t\t\t\t\t\t\t@change=\"markAnswer(index)\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-else-if=\"quiz.data.show_answers\"\n\t\t\t\t\t\t\t\tv-for=\"(answer, idx) in showAnswers\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div v-if=\"index - 1 == idx\">\n\t\t\t\t\t\t\t\t\t<CheckCircle\n\t\t\t\t\t\t\t\t\t\tv-if=\"answer == 1\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-ink-green-2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<MinusCircle\n\t\t\t\t\t\t\t\t\t\tv-else-if=\"answer == 2\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-ink-green-2\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<XCircle\n\t\t\t\t\t\t\t\t\t\tv-else-if=\"answer == 0\"\n\t\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-ink-red-3\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<MinusCircle v-else class=\"w-4 h-4\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass=\"ml-2\"\n\t\t\t\t\t\t\t\tv-html=\"questionDetails.data[`option_${index}`]\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"questionDetails.data[`explanation_${index}`]\"\n\t\t\t\t\t\t\tclass=\"mt-2 text-xs\"\n\t\t\t\t\t\t\tv-show=\"showAnswers.length\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ questionDetails.data[`explanation_${index}`] }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-else-if=\"questionDetails.data.type == 'User Input'\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tv-model=\"possibleAnswer\"\n\t\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\t\t:disabled=\"showAnswers.length ? true : false\"\n\t\t\t\t\t\t\tclass=\"my-2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div v-if=\"showAnswers.length\">\n\t\t\t\t\t\t\t<Badge v-if=\"showAnswers[0]\" :label=\"__('Correct')\" theme=\"green\">\n\t\t\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t\t\t<CheckCircle class=\"w-4 h-4 text-ink-green-2 mr-1\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t<Badge v-else theme=\"red\" :label=\"__('Incorrect')\">\n\t\t\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t\t\t<XCircle class=\"w-4 h-4 text-ink-red-3 mr-1\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\tclass=\"mt-4\"\n\t\t\t\t\t\t\t:content=\"possibleAnswer\"\n\t\t\t\t\t\t\t@change=\"(val) => (possibleAnswer = val)\"\n\t\t\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t\t\t:fixedMenu=\"true\"\n\t\t\t\t\t\t\teditorClass=\"prose-sm max-w-none border-b border-x bg-surface-gray-2 rounded-b-md py-1 px-2 min-h-[7rem]\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex items-center justify-between mt-4\">\n\t\t\t\t\t\t<div class=\"text-sm text-ink-gray-5\">\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t__('Question {0} of {1}').format(\n\t\t\t\t\t\t\t\t\tactiveQuestion,\n\t\t\t\t\t\t\t\t\tquestions.length\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t\t\tquiz.data.show_answers &&\n\t\t\t\t\t\t\t\t!showAnswers.length &&\n\t\t\t\t\t\t\t\tquestionDetails.data.type != 'Open Ended'\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t@click=\"checkAnswer()\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{ __('Check') }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tv-else-if=\"activeQuestion != questions.length\"\n\t\t\t\t\t\t\t@click=\"nextQuestion()\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{ __('Next') }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button v-else @click=\"submitQuiz()\">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{ __('Submit') }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-else class=\"border rounded-md p-20 text-center space-y-2\">\n\t\t\t<div class=\"text-lg font-semibold text-ink-gray-9\">\n\t\t\t\t{{ __('Quiz Summary') }}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-if=\"quizSubmission.data.is_open_ended\"\n\t\t\t\tclass=\"leading-5 text-ink-gray-7\"\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\t__(\n\t\t\t\t\t\t\"Your submission has been successfully saved. The instructor will review and grade it shortly, and you'll be notified of your final result.\"\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</div>\n\t\t\t<div v-else>\n\t\t\t\t{{\n\t\t\t\t\t__(\n\t\t\t\t\t\t'You got {0}% correct answers with a score of {1} out of {2}'\n\t\t\t\t\t).format(\n\t\t\t\t\t\tMath.ceil(quizSubmission.data.percentage),\n\t\t\t\t\t\tquizSubmission.data.score,\n\t\t\t\t\t\tquizSubmission.data.score_out_of\n\t\t\t\t\t)\n\t\t\t\t}}\n\t\t\t</div>\n\t\t\t<div class=\"space-x-2\">\n\t\t\t\t<Button\n\t\t\t\t\t@click=\"resetQuiz()\"\n\t\t\t\t\tclass=\"mt-2\"\n\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t!quiz.data.max_attempts ||\n\t\t\t\t\t\tattempts?.data.length < quiz.data.max_attempts\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ __('Try Again') }}\n\t\t\t\t\t</span>\n\t\t\t\t</Button>\n\t\t\t\t<Button v-if=\"inVideo\" @click=\"props.backToVideo()\">\n\t\t\t\t\t{{ __('Resume Video') }}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div\n\t\t\tv-if=\"\n\t\t\t\tquiz.data.show_submission_history &&\n\t\t\t\tattempts?.data &&\n\t\t\t\tattempts.data.length > 0\n\t\t\t\"\n\t\t\tclass=\"mt-10\"\n\t\t>\n\t\t\t<ListView\n\t\t\t\t:columns=\"getSubmissionColumns()\"\n\t\t\t\t:rows=\"attempts?.data\"\n\t\t\t\trow-key=\"name\"\n\t\t\t\t:options=\"{\n\t\t\t\t\tselectable: false,\n\t\t\t\t\tshowTooltip: false,\n\t\t\t\t\temptyState: { title: __('No Quiz submissions found') },\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t</ListView>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport {\n\tBadge,\n\tButton,\n\tcall,\n\tcreateResource,\n\tListView,\n\tTextEditor,\n\tFormControl,\n\ttoast,\n} from '@mono/mono-frappe-ui'\nimport { ref, watch, reactive, inject, computed } from 'vue'\nimport { CheckCircle, XCircle, MinusCircle } from 'lucide-vue-next'\nimport { timeAgo } from '@/utils'\nimport { useRouter } from 'vue-router'\nimport ProgressBar from '@/components/ProgressBar.vue'\n\nconst user = inject('$user')\nconst activeQuestion = ref(0)\nconst currentQuestion = ref('')\nconst selectedOptions = reactive([0, 0, 0, 0])\nconst showAnswers = reactive([])\nlet questions = reactive([])\nconst possibleAnswer = ref(null)\nconst timer = ref(0)\nlet timerInterval = null\n\nconst props = defineProps({\n\tquizName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tinVideo: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\tbackToVideo: {\n\t\ttype: Function,\n\t\tdefault: () => {},\n\t},\n})\n\nconst quiz = createResource({\n\turl: 'frappe.client.get',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoctype: 'LMS Quiz',\n\t\t\tname: props.quizName,\n\t\t}\n\t},\n\tcache: ['quiz', props.quizName],\n\tauto: true,\n\ttransform(data) {\n\t\tdata.duration = parseInt(data.duration)\n\t},\n\tonSuccess(data) {\n\t\tpopulateQuestions()\n\t\tsetupTimer()\n\t},\n})\n\nconst populateQuestions = () => {\n\tlet data = quiz.data\n\tif (data.shuffle_questions) {\n\t\tquestions = shuffleArray(data.questions)\n\t\tif (data.limit_questions_to) {\n\t\t\tquestions = questions.slice(0, data.limit_questions_to)\n\t\t}\n\t} else {\n\t\tquestions = data.questions\n\t}\n}\n\nconst setupTimer = () => {\n\tif (quiz.data.duration) {\n\t\ttimer.value = quiz.data.duration * 60\n\t}\n}\n\nconst startTimer = () => {\n\ttimerInterval = setInterval(() => {\n\t\ttimer.value--\n\t\tif (timer.value == 0) {\n\t\t\tclearInterval(timerInterval)\n\t\t\tsubmitQuiz()\n\t\t}\n\t}, 1000)\n}\n\nconst formatTimer = (seconds) => {\n\tconst hrs = Math.floor(seconds / 3600)\n\t\t.toString()\n\t\t.padStart(2, '0')\n\tconst mins = Math.floor((seconds % 3600) / 60)\n\t\t.toString()\n\t\t.padStart(2, '0')\n\tconst secs = (seconds % 60).toString().padStart(2, '0')\n\treturn hrs != '00' ? `${hrs}:${mins}:${secs}` : `${mins}:${secs}`\n}\n\nconst timerProgress = computed(() => {\n\treturn (timer.value / (quiz.data.duration * 60)) * 100\n})\n\nconst shuffleArray = (array) => {\n\tfor (let i = array.length - 1; i > 0; i--) {\n\t\tconst j = Math.floor(Math.random() * (i + 1))\n\t\t;[array[i], array[j]] = [array[j], array[i]]\n\t}\n\treturn array\n}\n\nconst attempts = createResource({\n\turl: 'frappe.client.get_list',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoctype: 'LMS Quiz Submission',\n\t\t\tfilters: {\n\t\t\t\tmember: user.data?.name,\n\t\t\t\tquiz: quiz.data?.name,\n\t\t\t},\n\t\t\tfields: [\n\t\t\t\t'name',\n\t\t\t\t'creation',\n\t\t\t\t'score',\n\t\t\t\t'score_out_of',\n\t\t\t\t'percentage',\n\t\t\t\t'passing_percentage',\n\t\t\t],\n\t\t\torder_by: 'creation desc',\n\t\t}\n\t},\n\ttransform(data) {\n\t\tdata.forEach((submission, index) => {\n\t\t\tsubmission.creation = timeAgo(submission.creation)\n\t\t\tsubmission.idx = index + 1\n\t\t})\n\t},\n})\n\nwatch(\n\t() => quiz.data,\n\t() => {\n\t\tif (quiz.data) {\n\t\t\tpopulateQuestions()\n\t\t}\n\t\tif (quiz.data && quiz.data.max_attempts) {\n\t\t\tattempts.reload()\n\t\t\tresetQuiz()\n\t\t}\n\t}\n)\n\nconst quizSubmission = createResource({\n\turl: 'lms.lms.doctype.lms_quiz.lms_quiz.quiz_summary',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tquiz: quiz.data.name,\n\t\t\tresults: localStorage.getItem(quiz.data.title),\n\t\t}\n\t},\n})\n\nconst questionDetails = createResource({\n\turl: 'lms.lms.utils.get_question_details',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tquestion: currentQuestion.value,\n\t\t}\n\t},\n})\n\nwatch(activeQuestion, (value) => {\n\tif (value > 0) {\n\t\tcurrentQuestion.value = quiz.data.questions[value - 1].question\n\t\tquestionDetails.reload()\n\t}\n})\n\nwatch(\n\t() => props.quizName,\n\t(newName) => {\n\t\tif (newName) {\n\t\t\tquiz.reload()\n\t\t}\n\t}\n)\n\nconst startQuiz = () => {\n\tactiveQuestion.value = 1\n\tlocalStorage.removeItem(quiz.data.title)\n\tif (quiz.data.duration) startTimer()\n}\n\nconst markAnswer = (index) => {\n\tif (!questionDetails.data.multiple)\n\t\tselectedOptions.splice(0, selectedOptions.length, ...[0, 0, 0, 0])\n\tselectedOptions[index - 1] = selectedOptions[index - 1] ? 0 : 1\n}\n\nconst getAnswers = () => {\n\tlet answers = []\n\tconst type = questionDetails.data.type\n\n\tif (type == 'Choices') {\n\t\tselectedOptions.forEach((value, index) => {\n\t\t\tif (selectedOptions[index])\n\t\t\t\tanswers.push(questionDetails.data[`option_${index + 1}`])\n\t\t})\n\t} else {\n\t\tanswers.push(possibleAnswer.value)\n\t}\n\n\treturn answers\n}\n\nconst checkAnswer = () => {\n\tlet answers = getAnswers()\n\tif (!answers.length) {\n\t\ttoast.warning(__('Please select an option'))\n\t\treturn\n\t}\n\n\tcreateResource({\n\t\turl: 'lms.lms.doctype.lms_quiz.lms_quiz.check_answer',\n\t\tparams: {\n\t\t\tquestion: currentQuestion.value,\n\t\t\ttype: questionDetails.data.type,\n\t\t\tanswers: JSON.stringify(answers),\n\t\t},\n\t\tauto: true,\n\t\tonSuccess(data) {\n\t\t\tlet type = questionDetails.data.type\n\t\t\tif (type == 'Choices') {\n\t\t\t\tselectedOptions.forEach((option, index) => {\n\t\t\t\t\tif (option) {\n\t\t\t\t\t\tshowAnswers[index] = option && data[index]\n\t\t\t\t\t} else if (data[index] == 2) {\n\t\t\t\t\t\tshowAnswers[index] = 2\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowAnswers[index] = undefined\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tshowAnswers.push(data)\n\t\t\t}\n\t\t\taddToLocalStorage()\n\t\t\tif (!quiz.data.show_answers) {\n\t\t\t\tresetQuestion()\n\t\t\t}\n\t\t},\n\t})\n}\n\nconst addToLocalStorage = () => {\n\tlet quizData = JSON.parse(localStorage.getItem(quiz.data.title))\n\tlet questionData = {\n\t\tquestion_name: currentQuestion.value,\n\t\tanswer: getAnswers().join(),\n\t\tis_correct: showAnswers.filter((answer) => {\n\t\t\treturn answer != undefined\n\t\t}),\n\t}\n\tquizData ? quizData.push(questionData) : (quizData = [questionData])\n\tlocalStorage.setItem(quiz.data.title, JSON.stringify(quizData))\n}\n\nconst nextQuestion = () => {\n\tif (!quiz.data.show_answers && questionDetails.data?.type != 'Open Ended') {\n\t\tcheckAnswer()\n\t} else {\n\t\tif (questionDetails.data?.type == 'Open Ended') addToLocalStorage()\n\t\tresetQuestion()\n\t}\n}\n\nconst resetQuestion = () => {\n\tif (activeQuestion.value == quiz.data.questions.length) return\n\tactiveQuestion.value = activeQuestion.value + 1\n\tselectedOptions.splice(0, selectedOptions.length, ...[0, 0, 0, 0])\n\tshowAnswers.length = 0\n\tpossibleAnswer.value = null\n}\n\nconst submitQuiz = () => {\n\tif (!quiz.data.show_answers) {\n\t\tif (questionDetails.data.type == 'Open Ended') addToLocalStorage()\n\t\telse checkAnswer()\n\t\tsetTimeout(() => {\n\t\t\tcreateSubmission()\n\t\t}, 500)\n\t\treturn\n\t}\n\tcreateSubmission()\n}\n\nconst createSubmission = () => {\n\tquizSubmission.submit(\n\t\t{},\n\t\t{\n\t\t\tonSuccess(data) {\n\t\t\t\tmarkLessonProgress()\n\t\t\t\tif (quiz.data && quiz.data.max_attempts) attempts.reload()\n\t\t\t\tif (quiz.data.duration) clearInterval(timerInterval)\n\t\t\t},\n\t\t\tonError(err) {\n\t\t\t\tconst errorTitle = err?.message || ''\n\t\t\t\tif (errorTitle.includes('MaximumAttemptsExceededError')) {\n\t\t\t\t\tconst errorMessage = err.messages?.[0] || err\n\t\t\t\t\ttoast.error(__(errorMessage))\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t}, 3000)\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t)\n}\n\nconst resetQuiz = () => {\n\tactiveQuestion.value = 0\n\tselectedOptions.splice(0, selectedOptions.length, ...[0, 0, 0, 0])\n\tshowAnswers.length = 0\n\tquizSubmission.reset()\n\tpopulateQuestions()\n\tsetupTimer()\n}\n\nconst getInstructions = (question) => {\n\tif (question.type == 'Choices')\n\t\tif (question.multiple) return __('Choose all answers that apply')\n\t\telse return __('Choose one answer')\n\telse return __('Type your answer')\n}\n\nconst markLessonProgress = () => {\n\tlet pathname = window.location.pathname.split('/')\n\tif (pathname[2] != 'courses') return\n\tlet lessonIndex = pathname.pop().split('-')\n\n\tif (lessonIndex.length == 2) {\n\t\tcall('lms.lms.api.mark_lesson_progress', {\n\t\t\tcourse: pathname[3],\n\t\t\tchapter_number: lessonIndex[0],\n\t\t\tlesson_number: lessonIndex[1],\n\t\t})\n\t}\n}\n\nconst getSubmissionColumns = () => {\n\treturn [\n\t\t{\n\t\t\tlabel: 'No.',\n\t\t\tkey: 'idx',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Date',\n\t\t\tkey: 'creation',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Score',\n\t\t\tkey: 'score',\n\t\t\talign: 'center',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Score out of',\n\t\t\tkey: 'score_out_of',\n\t\t\talign: 'center',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Percentage',\n\t\t\tkey: 'percentage',\n\t\t\talign: 'center',\n\t\t},\n\t]\n}\n</script>\n<style>\np {\n\tline-height: 1.5rem;\n}\n</style>\n"],"names":["user","inject","activeQuestion","ref","currentQuestion","selectedOptions","reactive","showAnswers","questions","possibleAnswer","timer","timerInterval","props","__props","quiz","createResource","values","data","populateQuestions","setupTimer","shuffleArray","startTimer","submitQuiz","formatTimer","seconds","hrs","mins","secs","timerProgress","computed","array","i","j","attempts","submission","index","timeAgo","watch","resetQuiz","quizSubmission","questionDetails","value","newName","startQuiz","markAnswer","getAnswers","answers","checkAnswer","toast","option","addToLocalStorage","resetQuestion","quizData","questionData","answer","nextQuestion","createSubmission","markLessonProgress","err","errorMessage","getInstructions","question","pathname","lessonIndex","call","getSubmissionColumns","_unref","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_openBlock","__","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_createVNode","ProgressBar","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_createBlock","Button","_cache","$event","_hoisted_17","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_39","_hoisted_18","_Fragment","_renderList","qtidx","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_25","idx","_hoisted_28","CheckCircle","MinusCircle","XCircle","_vShow","_hoisted_30","FormControl","_hoisted_31","Badge","_hoisted_32","TextEditor","val","_hoisted_33","_hoisted_34","_hoisted_40","ListView"],"mappings":"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"}