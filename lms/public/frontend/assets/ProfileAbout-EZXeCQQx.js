import"@headlessui/vue";import{i as k,s as w,A as $,e as r,f as n,g as t,k as b,t as o,l as a,F as f,x as M,h as d,n as c,p as x,_ as v,bv as D,bw as L,bn as Y,bs as B}from"./index-BIerRe8o.js";import"@vueuse/core";import"@tiptap/extension-code-block-lowlight";import"@tiptap/extension-placeholder";import"@tiptap/extension-table";import"@tiptap/extension-table-cell";import"@tiptap/extension-table-header";import"@tiptap/extension-table-row";import"@tiptap/extension-text-align";import"@tiptap/extension-text-style";import"@tiptap/extension-typography";import"@tiptap/vue-3";import"@tiptap/extension-mention";import"@tiptap/core";import"@tiptap/extension-code-block";import"@tiptap/extension-heading";import"@tiptap/suggestion";import"@tiptap/extension-link";const C={class:"mt-7 mb-10"},I={class:"mb-3 text-lg font-semibold text-ink-gray-9"},T=["innerHTML"],A={key:1,class:"text-ink-gray-7 text-sm italic"},N={key:0,class:"mt-7 mb-10"},j={class:"mb-3 text-lg font-semibold text-ink-gray-9"},S={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},V={class:"relative"},O=["src","alt"],P={key:0,class:"flex items-end bg-surface-gray-2 p-2 text-xs font-semibold rounded-full absolute right-0 bottom-0"},z={class:"w-[250px] text-base"},F=["src","alt"],H={class:"p-5"},R={class:"text-2xl font-semibold mb-2"},U={class:"leading-5 mb-4"},q={class:"flex flex-col mb-4"},E={class:"text-xs text-ink-gray-7 font-medium mb-1"},X={class:"flex flex-col"},G={class:"text-xs text-ink-gray-7 font-medium mb-1"},J={class:"flex items-center space-x-2"},K={class:"text-xs"},Q={class:"text-xs"},be={__name:"ProfileAbout",props:{profile:{type:Object,required:!0}},setup(p){const _=k("$dayjs"),{branding:y}=w(),u=p,h=$({url:"frappe.client.get_list",params:{doctype:"LMS Badge Assignment",fields:["name","badge","badge_image","badge_description","issued_on"],filters:{member:u.profile.data.name}},auto:!0,transform(s){let l=[],e=Object.groupBy(s,({badge:i})=>i);for(let i in e){let m=e[i][0];m.count=e[i].length,l.push(m)}return l}}),g=(s,l)=>{let e;const i=encodeURIComponent(`${window.location.origin}/lms/badges/${s.badge}/${u.profile.data?.email}`),m=`I am happy to announce that I earned the ${s.badge} badge on ${_(s.issued_on).format("DD MMM YYYY")} at ${y.data?.app_name}.`;l=="LinkedIn"?e=`https://www.linkedin.com/shareArticle?mini=true&url=${i}&text=${m}`:l=="Twitter"&&(e=`https://twitter.com/intent/tweet?text=${m}&url=${i}`),window.open(e,"_blank")};return(s,l)=>(n(),r(f,null,[t("div",C,[t("h2",I,o(s.__("About")),1),p.profile.data.bio?(n(),r("div",{key:0,innerHTML:p.profile.data.bio,class:"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal"},null,8,T)):(n(),r("div",A,o(s.__("No introduction")),1))]),a(h).data?.length?(n(),r("div",N,[t("h2",j,o(s.__("Achievements")),1),t("div",S,[(n(!0),r(f,null,M(a(h).data,e=>(n(),r("div",null,[d(a(B),{trigger:"hover",leaveDelay:.01},{target:c(()=>[t("div",V,[t("img",{src:e.badge_image,alt:e.badge,class:"h-[80px]"},null,8,O),e.count>1?(n(),r("div",P,[t("span",null,[d(a(Y),{class:"w-3 h-3"})]),x(" "+o(e.count),1)])):b("",!0)])]),"body-main":c(()=>[t("div",z,[t("img",{src:e.badge_image,alt:e.badge,class:"bg-surface-gray-2 rounded-t-md h-[200px] mx-auto"},null,8,F),t("div",H,[t("div",R,o(e.badge),1),t("div",U,o(e.badge_description),1),t("div",q,[t("span",E,o(s.__("Issued on"))+": ",1),x(" "+o(a(_)(e.issued_on).format("DD MMM YYYY")),1)]),t("div",X,[t("span",G,o(s.__("Share on"))+": ",1),t("div",J,[d(a(v),{variant:"outline",size:"sm",onClick:i=>g(e,"LinkedIn")},{prefix:c(()=>[d(a(D),{class:"h-3 w-3 text-ink-gray-7"})]),default:c(()=>[t("span",K,o(s.__("LinkedIn")),1)]),_:2},1032,["onClick"]),d(a(v),{variant:"outline",size:"sm",onClick:i=>g(e,"Twitter")},{prefix:c(()=>[d(a(L),{class:"h-3 w-3 text-ink-gray-7"})]),default:c(()=>[t("span",Q,o(s.__("Twitter")),1)]),_:2},1032,["onClick"])])])])])]),_:2},1032,["leaveDelay"])]))),256))])])):b("",!0)],64))}};export{be as default};
//# sourceMappingURL=ProfileAbout-EZXeCQQx.js.map
