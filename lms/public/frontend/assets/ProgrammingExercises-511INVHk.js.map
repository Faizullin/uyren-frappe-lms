{"version":3,"file":"ProgrammingExercises-511INVHk.js","sources":["../../../../frontend-monorepo/website/src/components/Controls/ChildTable.vue","../../../../frontend-monorepo/website/src/pages/ProgrammingExercises/ProgrammingExerciseForm.vue","../../../../frontend-monorepo/website/src/pages/ProgrammingExercises/ProgrammingExercises.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"text-xs text-ink-gray-5 mb-2\">\n\t\t\t{{ label }}\n\t\t</div>\n\t\t<div class=\"overflow-x-auto border rounded-md\">\n\t\t\t<div\n\t\t\t\tclass=\"grid items-center space-x-4 p-2 border-b\"\n\t\t\t\t:style=\"{ gridTemplateColumns: getGridTemplateColumns() }\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"(column, index) in columns\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"text-sm text-ink-gray-5\"\n\t\t\t\t>\n\t\t\t\t\t{{ column }}\n\t\t\t\t</div>\n\t\t\t\t<div></div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-for=\"(row, rowIndex) in rows\"\n\t\t\t\t:key=\"rowIndex\"\n\t\t\t\tclass=\"grid items-center space-x-4 p-2\"\n\t\t\t\t:style=\"{ gridTemplateColumns: getGridTemplateColumns() }\"\n\t\t\t>\n\t\t\t\t<template v-for=\"key in Object.keys(row)\" :key=\"key\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tv-if=\"showKey(key)\"\n\t\t\t\t\t\tv-model=\"row[key]\"\n\t\t\t\t\t\tclass=\"py-1.5 px-2 border-none focus:ring-0 focus:border focus:border-gray-300 focus:bg-surface-gray-2 rounded-sm text-sm focus:outline-none\"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\n\t\t\t\t<div class=\"relative\" ref=\"menuRef\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t@click=\"(event: MouseEvent) => toggleMenu(rowIndex, event)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<Ellipsis\n\t\t\t\t\t\t\t\tclass=\"size-4 text-ink-gray-7 stroke-1.5 cursor-pointer\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"menuOpenIndex === rowIndex\"\n\t\t\t\t\t\tclass=\"absolute right-[30px] top-5 mt-1 w-32 bg-surface-white border border-outline-gray-1 rounded-md shadow-sm\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t@click=\"deleteRow(rowIndex)\"\n\t\t\t\t\t\t\tclass=\"flex items-center space-x-2 w-full text-left px-3 py-2 text-sm text-ink-red-3\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Trash2 class=\"size-4 stroke-1.5\" />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{{ __('Delete') }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"mt-2\">\n\t\t\t<Button @click=\"addRow\">\n\t\t\t\t<template #prefix>\n\t\t\t\t\t<Plus class=\"size-4 text-ink-gray-7\" />\n\t\t\t\t</template>\n\t\t\t\t{{ __('Add Row') }}\n\t\t\t</Button>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch } from 'vue'\nimport { Button } from '@mono/mono-frappe-ui'\nimport { Ellipsis, Plus, Trash2 } from 'lucide-vue-next'\nimport { onClickOutside } from '@vueuse/core'\n\nconst rows = defineModel<Cell[][]>()\nconst menuRef = ref(null)\nconst menuOpenIndex = ref<number | null>(null)\nconst menuTopPosition = ref<string>('')\nconst emit = defineEmits<{\n\t(e: 'update:modelValue', value: Cell[][]): void\n}>()\n\ntype Cell = {\n\tvalue: string\n\teditable?: boolean\n}\n\nconst props = withDefaults(\n\tdefineProps<{\n\t\tmodelValue?: Cell[][]\n\t\tcolumns?: string[]\n\t\tlabel?: string\n\t}>(),\n\t{\n\t\tcolumns: [],\n\t}\n)\n\nconst columns = ref(props.columns)\n\nwatch(rows, () => {\n\tif (rows.value?.length < 1) {\n\t\taddRow()\n\t}\n})\n\nconst addRow = () => {\n\tif (!rows.value) {\n\t\trows.value = []\n\t}\n\tlet newRow: { [key: string]: string } = {}\n\tcolumns.value.forEach((column: any) => {\n\t\tnewRow[column.toLowerCase().split(' ').join('_')] = ''\n\t})\n\trows.value.push(newRow)\n\temit('update:modelValue', rows.value)\n}\n\nconst deleteRow = (index: number) => {\n\trows.value.splice(index, 1)\n\temit('update:modelValue', rows.value)\n}\n\nconst getGridTemplateColumns = () => {\n\treturn [...Array(columns.value.length).fill('1fr'), '0.25fr'].join(' ')\n}\n\nconst toggleMenu = (index: number, event: MouseEvent) => {\n\tmenuOpenIndex.value = menuOpenIndex.value === index ? null : index\n\tmenuTopPosition.value = `${event.clientY + 10}px`\n}\n\nonClickOutside(menuRef, () => {\n\tmenuOpenIndex.value = null\n})\n\nconst showKey = (key: string) => {\n\tlet columnsLower = columns.value.map((col) =>\n\t\tcol.toLowerCase().split(' ').join('_')\n\t)\n\treturn columnsLower.includes(key)\n}\n</script>\n","<template>\n\t<Dialog v-model=\"show\" :options=\"{ size: '5xl' }\">\n\t\t<template #body-title>\n\t\t\t<div class=\"text-xl font-semibold text-ink-gray-9\">\n\t\t\t\t{{\n\t\t\t\t\tprops.exerciseID === 'new'\n\t\t\t\t\t\t? __('Create Programming Exercise')\n\t\t\t\t\t\t: __('Edit Programming Exercise')\n\t\t\t\t}}\n\t\t\t</div>\n\t\t</template>\n\t\t<template #body-content>\n\t\t\t<div class=\"grid grid-cols-2 gap-10\">\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"exercise.title\"\n\t\t\t\t\t\t:label=\"__('Title')\"\n\t\t\t\t\t\t:required=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-model=\"exercise.language\"\n\t\t\t\t\t\t:label=\"__('Language')\"\n\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t:options=\"languageOptions\"\n\t\t\t\t\t\t:required=\"true\"\n\t\t\t\t\t/>\n\t\t\t\t\t<ChildTable\n\t\t\t\t\t\tv-model=\"exercise.test_cases\"\n\t\t\t\t\t\t:label=\"__('Test Cases')\"\n\t\t\t\t\t\t:columns=\"testCaseColumns\"\n\t\t\t\t\t\t:required=\"true\"\n\t\t\t\t\t\t:addable=\"true\"\n\t\t\t\t\t\t:deletable=\"true\"\n\t\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t\t:placeholder=\"__('Add Test Case')\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-ink-gray-5 mb-2\">\n\t\t\t\t\t\t\t{{ __('Problem Statement') }}\n\t\t\t\t\t\t\t<span class=\"text-ink-red-3\">*</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\t:content=\"exercise.problem_statement\"\n\t\t\t\t\t\t\t@change=\"(val: string) => (exercise.problem_statement = val)\"\n\t\t\t\t\t\t\t:editable=\"true\"\n\t\t\t\t\t\t\t:fixedMenu=\"true\"\n\t\t\t\t\t\t\teditorClass=\"prose-sm max-w-none border-b border-x bg-surface-gray-2 rounded-b-md py-1 px-2 min-h-[7rem] max-h-[21rem] overflow-y-auto\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #actions=\"{ close }\">\n\t\t\t<div class=\"flex justify-end space-x-2 group\">\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"exerciseID != 'new'\"\n\t\t\t\t\t@click=\"deleteExercise(close)\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\ttheme=\"red\"\n\t\t\t\t\tclass=\"invisible group-hover:visible\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t<Trash2 class=\"size-4 stroke-1.5\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ __('Delete') }}\n\t\t\t\t</Button>\n\t\t\t\t<router-link\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'ProgrammingExerciseSubmission',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\texerciseID: props.exerciseID,\n\t\t\t\t\t\t\tsubmissionID: 'new',\n\t\t\t\t\t\t},\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<Button>\n\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t<Play class=\"size-4 stroke-1.5\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ __('Test this Exercise') }}\n\t\t\t\t\t</Button>\n\t\t\t\t</router-link>\n\t\t\t\t<router-link\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'ProgrammingExerciseSubmissions',\n\t\t\t\t\t\tquery: {\n\t\t\t\t\t\t\texercise: props.exerciseID,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<Button>\n\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t<ClipboardList class=\"size-4 stroke-1.5\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ __('Check Submission') }}\n\t\t\t\t\t</Button>\n\t\t\t\t</router-link>\n\t\t\t\t<Button variant=\"solid\" @click=\"saveExercise(close)\">\n\t\t\t\t\t{{ __('Save') }}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n<script setup lang=\"ts\">\nimport {\n\tButton,\n\tcreateListResource,\n\tDialog,\n\tFormControl,\n\tTextEditor,\n\ttoast,\n} from '@mono/mono-frappe-ui'\nimport { computed, ref, watch } from 'vue'\nimport type {\n  ProgrammingExercise,\n  ProgrammingExercises,\n  TestCase,\n} from '@/types/programming-exercise'\nimport ChildTable from '@/components/Controls/ChildTable.vue'\nimport { ClipboardList, Play, Trash2 } from 'lucide-vue-next'\n\nconst show = defineModel()\nconst exercises = defineModel<ProgrammingExercises>('exercises')\n\nconst exercise = ref<ProgrammingExercise>({\n\ttitle: '',\n\tlanguage: 'Python',\n\tproblem_statement: '',\n\ttest_cases: [],\n})\n\nconst languageOptions = [\n\t{ label: 'Python', value: 'Python' },\n\t{ label: 'JavaScript', value: 'JavaScript' },\n]\n\nconst props = withDefaults(\n\tdefineProps<{\n\t\texerciseID: string\n\t}>(),\n\t{\n\t\texerciseID: 'new',\n\t}\n)\n\nwatch(\n\t() => props.exerciseID,\n\t() => {\n\t\tsetExerciseData()\n\t\tfetchTestCases()\n\t}\n)\n\nconst setExerciseData = () => {\n\tlet isNew = true\n\texercises.value?.data.forEach((ex: ProgrammingExercise) => {\n\t\tif (ex.name === props.exerciseID) {\n\t\t\tisNew = false\n\t\t\texercise.value = { ...ex }\n\t\t}\n\t})\n\n\tif (isNew) {\n\t\texercise.value = {\n\t\t\ttitle: '',\n\t\t\tlanguage: 'Python',\n\t\t\tproblem_statement: '',\n\t\t\ttest_cases: [],\n\t\t}\n\t}\n}\n\nconst testCases = createListResource({\n\tdoctype: 'LMS Test Case',\n\tfields: ['input', 'expected_output', 'name'],\n\tcache: ['testCases', props.exerciseID],\n\tparent: 'LMS Programming Exercise',\n\tonSuccess(data: TestCase[]) {\n\t\texercise.value.test_cases = data\n\t},\n})\n\nconst fetchTestCases = () => {\n\ttestCases.update({\n\t\tfilters: {\n\t\t\tparent: props.exerciseID,\n\t\t\tparenttype: 'LMS Programming Exercise',\n\t\t\tparentfield: 'test_cases',\n\t\t},\n\t})\n\ttestCases.reload()\n}\n\nconst saveExercise = (close: () => void) => {\n\tif (props.exerciseID == 'new') createNewExercise(close)\n\telse updateExercise(close)\n}\n\nconst createNewExercise = (close: () => void) => {\n\texercises.value?.insert.submit(\n\t\t{\n\t\t\t...exercise.value,\n\t\t},\n\t\t{\n\t\t\tonSuccess() {\n\t\t\t\tclose()\n\t\t\t\texercises.value?.reload()\n\t\t\t\ttoast.success(__('Programming Exercise created successfully'))\n\t\t\t},\n\t\t\tonError(err: any) {\n\t\t\t\ttoast.warning(__(err.messages?.[0] || err))\n\t\t\t},\n\t\t}\n\t)\n}\n\nconst updateExercise = (close: () => void) => {\n\texercises.value?.setValue.submit(\n\t\t{\n\t\t\tname: props.exerciseID,\n\t\t\t...exercise.value,\n\t\t},\n\t\t{\n\t\t\tonSuccess() {\n\t\t\t\tclose()\n\t\t\t\texercises.value?.reload()\n\t\t\t\ttoast.success(__('Programming Exercise updated successfully'))\n\t\t\t},\n\t\t\tonError(err: any) {\n\t\t\t\ttoast.warning(__(err.messages?.[0] || err))\n\t\t\t},\n\t\t}\n\t)\n}\n\nconst testCaseColumns = computed(() => {\n\treturn ['Input', 'Expected Output']\n})\n\nconst deleteExercise = (close: () => void) => {\n\tif (props.exerciseID == 'new') return\n\texercises.value?.delete.submit(props.exerciseID, {\n\t\tonSuccess() {\n\t\t\ttoast.success(__('Programming Exercise deleted successfully'))\n\t\t\tclose()\n\t\t},\n\t\tonError(err: any) {\n\t\t\ttoast.warning(__(err.messages?.[0] || err))\n\t\t},\n\t})\n}\n</script>\n","<template>\n\t<header\n\t\tclass=\"sticky flex items-center justify-between top-0 z-10 border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n\t>\n\t\t<Breadcrumbs :items=\"breadcrumbs\" />\n\t\t<div class=\"space-x-2\">\n\t\t\t<router-link\n\t\t\t\t:to=\"{\n\t\t\t\t\tname: 'ProgrammingExerciseSubmissions',\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t<Button>\n\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t<ClipboardList class=\"size-4 stroke-1.5\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ __('Check All Submissions') }}\n\t\t\t\t</Button>\n\t\t\t</router-link>\n\t\t\t<Button\n\t\t\t\tv-if=\"!readOnlyMode\"\n\t\t\t\tvariant=\"solid\"\n\t\t\t\t@click=\"\n\t\t\t\t\t() => {\n\t\t\t\t\t\texerciseID = 'new'\n\t\t\t\t\t\tshowForm = true\n\t\t\t\t\t}\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<template #prefix>\n\t\t\t\t\t<Plus class=\"h-4 w-4 stroke-1.5\" />\n\t\t\t\t</template>\n\t\t\t\t{{ __('New') }}\n\t\t\t</Button>\n\t\t</div>\n\t</header>\n\t<div class=\"md:w-4/5 md:mx-auto p-5\">\n\t\t<div class=\"flex items-center justify-between mb-5\">\n\t\t\t<div v-if=\"exerciseCount\" class=\"text-lg font-semibold text-ink-gray-9\">\n\t\t\t\t{{ __('{0} Exercises').format(exerciseCount) }}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-if=\"exercises.data?.length || exerciseCount > 0\"\n\t\t\t\tclass=\"grid grid-cols-2 gap-5\"\n\t\t\t>\n\t\t\t\t<!-- <FormControl\n                    v-model=\"titleFilter\"\n                    :placeholder=\"__('Search by title')\"\n                />\n                <FormControl\n                    v-model=\"typeFilter\"\n                    type=\"select\"\n                    :options=\"assignmentTypes\"\n                    :placeholder=\"__('Type')\"\n                /> -->\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tv-if=\"exercises.data?.length\"\n\t\t\tclass=\"grid grid-cols-1 md:grid-cols-3 gap-4\"\n\t\t>\n\t\t\t<div\n\t\t\t\tv-for=\"exercise in exercises.data\"\n\t\t\t\t:key=\"exercise.name\"\n\t\t\t\t@click=\"\n\t\t\t\t\t() => {\n\t\t\t\t\t\texerciseID = exercise.name\n\t\t\t\t\t\tshowForm = true\n\t\t\t\t\t}\n\t\t\t\t\"\n\t\t\t\tclass=\"flex flex-col border rounded-md p-3 h-full hover:border-outline-gray-3 space-y-2 cursor-pointer\"\n\t\t\t>\n\t\t\t\t<div class=\"text-lg font-semibold text-ink-gray-9\">\n\t\t\t\t\t{{ exercise.title }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"text-sm text-ink-gray-7\">\n\t\t\t\t\t{{ exercise.language }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<EmptyState v-else type=\"Programming Exercises\" />\n\t\t<div\n\t\t\tv-if=\"exercises.data && exercises.hasNextPage\"\n\t\t\tclass=\"flex justify-center my-5\"\n\t\t>\n\t\t\t<Button @click=\"exercises.next()\">\n\t\t\t\t{{ __('Load More') }}\n\t\t\t</Button>\n\t\t</div>\n\t</div>\n\t<ProgrammingExerciseForm\n\t\tv-model=\"showForm\"\n\t\t:exerciseID=\"exerciseID\"\n\t\tv-model:exercises=\"exercises\"\n\t/>\n</template>\n<script setup lang=\"ts\">\nimport { computed, inject, onMounted, ref } from 'vue'\nimport {\n\tBreadcrumbs,\n\tButton,\n\tcall,\n\tcreateListResource,\n\tusePageMeta,\n} from '@mono/mono-frappe-ui'\nimport { ClipboardList, Plus } from 'lucide-vue-next'\nimport { sessionStore } from '@/stores/session'\nimport { useRouter } from 'vue-router'\nimport ProgrammingExerciseForm from '@/pages/ProgrammingExercises/ProgrammingExerciseForm.vue'\n\nconst exerciseCount = ref<number>(0)\nconst readOnlyMode = window.read_only_mode\nconst { brand } = sessionStore()\nconst showForm = ref<boolean>(false)\nconst exerciseID = ref<string | null>('new')\nconst user = inject<any>('$user')\nconst router = useRouter()\n\nonMounted(() => {\n\tvalidatePermissions()\n\tgetExerciseCount()\n})\n\nconst validatePermissions = () => {\n\tif (\n\t\t!user.data?.is_instructor &&\n\t\t!user.data?.is_moderator &&\n\t\t!user.data?.is_evaluator\n\t) {\n\t\trouter.push({\n\t\t\tname: 'ProgrammingExerciseSubmissions',\n\t\t})\n\t}\n}\n\nconst getExerciseCount = () => {\n\tcall('frappe.client.get_count', {\n\t\tdoctype: 'LMS Programming Exercise',\n\t})\n\t\t.then((count: number) => {\n\t\t\texerciseCount.value = count\n\t\t})\n\t\t.catch((error: any) => {\n\t\t\tconsole.error('Error fetching exercise count:', error)\n\t\t})\n}\n\nconst exercises = createListResource({\n\tdoctype: 'LMS Programming Exercise',\n\tcache: ['programmingExercises'],\n\tfields: ['name', 'title', 'language', 'problem_statement'],\n\tauto: true,\n})\n\nusePageMeta(() => {\n\treturn {\n\t\ttitle: __('Programming Exercises'),\n\t\ticon: brand.favicon,\n\t}\n})\n\nconst breadcrumbs = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: __('Programming Exercises'),\n\t\t\troute: { name: 'ProgrammingExercises' },\n\t\t},\n\t]\n})\n</script>\n"],"names":["rows","_useModel","__props","menuRef","ref","menuOpenIndex","menuTopPosition","emit","__emit","columns","watch","addRow","newRow","column","deleteRow","index","getGridTemplateColumns","toggleMenu","event","onClickOutside","showKey","key","col","_createElementBlock","_createElementVNode","_hoisted_1","_toDisplayString","label","_hoisted_2","_openBlock","_Fragment","_renderList","row","rowIndex","$event","_vModelText","_createVNode","_unref","Button","Ellipsis","_hoisted_4","Trash2","__","_hoisted_6","Plus","_createTextVNode","show","exercises","exercise","languageOptions","props","setExerciseData","fetchTestCases","isNew","ex","testCases","createListResource","data","saveExercise","close","createNewExercise","toast","err","updateExercise","testCaseColumns","computed","deleteExercise","_createBlock","Dialog","_hoisted_3","FormControl","_cache","ChildTable","TextEditor","val","_withCtx","_hoisted_5","exerciseID","_component_router_link","Play","ClipboardList","exerciseCount","readOnlyMode","brand","sessionStore","showForm","user","inject","router","useRouter","onMounted","validatePermissions","getExerciseCount","call","count","error","usePageMeta","breadcrumbs","Breadcrumbs","_hoisted_7","_hoisted_9","_hoisted_10","_component_EmptyState","_hoisted_11","ProgrammingExerciseForm"],"mappings":"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"}