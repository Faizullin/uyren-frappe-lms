{"version":3,"file":"Lesson-BwErc0w-.js","sources":["../../../../frontend-monorepo/website/src/components/QuizBlock.vue","../../../../frontend-monorepo/website/src/components/LessonContent.vue","../../../../frontend-monorepo/website/src/pages/Lesson.vue"],"sourcesContent":["<template>\n\t<Quiz v-if=\"user.data\" :quizName=\"quiz\"></Quiz>\n\t<div v-else class=\"border rounded-md text-center py-20\">\n\t\t<div>\n\t\t\t{{ __('Please login to access the quiz.') }}\n\t\t</div>\n\t\t<Button @click=\"redirectToLogin()\" class=\"mt-2\">\n\t\t\t<span>\n\t\t\t\t{{ __('Login') }}\n\t\t\t</span>\n\t\t</Button>\n\t</div>\n</template>\n<script setup>\nimport { inject } from 'vue'\nimport { Button } from '@mono/mono-frappe-ui'\nimport Quiz from '@/components/Quiz.vue'\n\nconst user = inject('$user')\nconst props = defineProps({\n\tquiz: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst redirectToLogin = () => {\n\twindow.location.href = `/login`\n}\n</script>\n","<template>\n\t<div v-if=\"youtube\">\n\t\t<iframe\n\t\t\tclass=\"youtube-video\"\n\t\t\t:src=\"getYouTubeVideoSource(youtube.split('/').pop())\"\n\t\t\twidth=\"100%\"\n\t\t\t:height=\"screenSize.width < 640 ? 200 : 400\"\n\t\t\tframeborder=\"0\"\n\t\t\tallowfullscreen\n\t\t></iframe>\n\t</div>\n\t<div v-for=\"block in content?.split('\\n\\n')\">\n\t\t<div v-if=\"block.includes('{{ YouTubeVideo')\">\n\t\t\t<iframe\n\t\t\t\tclass=\"youtube-video\"\n\t\t\t\t:src=\"getYouTubeVideoSource(block)\"\n\t\t\t\twidth=\"100%\"\n\t\t\t\t:height=\"screenSize.width < 640 ? 200 : 400\"\n\t\t\t\tframeborder=\"0\"\n\t\t\t\tallowfullscreen\n\t\t\t></iframe>\n\t\t</div>\n\t\t<div v-else-if=\"block.includes('{{ Quiz')\">\n\t\t\t<Quiz :quiz=\"getId(block)\" />\n\t\t</div>\n\t\t<div v-else-if=\"block.includes('{{ Video')\">\n\t\t\t<video\n\t\t\t\tcontrols\n\t\t\t\twidth=\"100%\"\n\t\t\t\tcontrolsList=\"nodownload\"\n\t\t\t\toncontextmenu=\"return false;\"\n\t\t\t>\n\t\t\t\t<source :src=\"getId(block)\" type=\"video/mp4\" />\n\t\t\t</video>\n\t\t</div>\n\t\t<div v-else-if=\"block.includes('{{ PDF')\">\n\t\t\t<iframe\n\t\t\t\t:src=\"getPDFSource(block)\"\n\t\t\t\twidth=\"100%\"\n\t\t\t\theight=\"700px\"\n\t\t\t\tframeborder=\"0\"\n\t\t\t\tallowfullscreen\n\t\t\t></iframe>\n\t\t</div>\n\t\t<div v-else-if=\"block.includes('{{ Audio')\">\n\t\t\t<audio width=\"100%\" controls controlsList=\"nodownload\">\n\t\t\t\t<source :src=\"getId(block)\" type=\"audio/mp3\" />\n\t\t\t</audio>\n\t\t</div>\n\t\t<div v-else-if=\"block.includes('{{ Embed')\">\n\t\t\t<iframe\n\t\t\t\twidth=\"100%\"\n\t\t\t\theight=\"400\"\n\t\t\t\t:src=\"getId(block)\"\n\t\t\t\tframeborder=\"0\"\n\t\t\t\tallowfullscreen\n\t\t\t>\n\t\t\t</iframe>\n\t\t</div>\n\t\t<div v-else v-html=\"markdown.render(block)\"></div>\n\t</div>\n\t<div v-if=\"quizId\">\n\t\t<Quiz :quiz=\"quizId\" />\n\t</div>\n</template>\n<script setup>\nimport Quiz from '@/components/QuizBlock.vue'\nimport MarkdownIt from 'markdown-it'\nimport { useScreenSize } from '@/utils/composables'\n\nconst screenSize = useScreenSize()\n\nconst markdown = new MarkdownIt({\n\thtml: true,\n\tlinkify: true,\n})\n\nconst props = defineProps({\n\tcontent: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tyoutube: {\n\t\ttype: String,\n\t\trequired: false,\n\t},\n\tquizId: {\n\t\ttype: String,\n\t\trequired: false,\n\t},\n})\n\nconst getYouTubeVideoSource = (block) => {\n\tif (block.includes('{{')) {\n\t\tblock = getId(block)\n\t}\n\treturn `https://www.youtube.com/embed/${block}`\n}\n\nconst getPDFSource = (block) => {\n\treturn `${getId(block)}#toolbar=0`\n}\n\nconst getId = (block) => {\n\treturn block.match(/\\([\"']([^\"']+?)[\"']\\)/)[1]\n}\n</script>\n","<template>\n\t<div v-if=\"lesson.data\" class=\"\">\n\t\t<header\n\t\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n\t\t>\n\t\t\t<Breadcrumbs class=\"h-7\" :items=\"breadcrumbs\" />\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<Tooltip v-if=\"canGoZen()\" :text=\"__('Zen Mode')\">\n\t\t\t\t\t<Button @click=\"goFullScreen()\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<Focus class=\"w-4 h-4 stroke-2\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Button>\n\t\t\t\t</Tooltip>\n\t\t\t\t<CertificationLinks :courseName=\"courseName\" />\n\t\t\t</div>\n\t\t</header>\n\t\t<div class=\"grid md:grid-cols-[70%,30%] h-screen\">\n\t\t\t<div v-if=\"lesson.data.no_preview\" class=\"border-r\">\n\t\t\t\t<div class=\"shadow rounded-md w-3/4 mt-10 mx-auto text-center p-4\">\n\t\t\t\t\t<div class=\"flex items-center justify-center mt-4 space-x-2\">\n\t\t\t\t\t\t<LockKeyholeIcon class=\"size-4 stroke-2 text-ink-gray-5\" />\n\t\t\t\t\t\t<div class=\"text-lg font-semibold text-ink-gray-7\">\n\t\t\t\t\t\t\t{{ __('This lesson is locked') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"mt-1 mb-4 text-ink-gray-7\">\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'This lesson is not available for preview. Please enroll in the course to access it.'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tv-if=\"user.data && !lesson.data.disable_self_learning\"\n\t\t\t\t\t\t@click=\"enrollStudent()\"\n\t\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ __('Start Learning') }}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Badge\n\t\t\t\t\t\ttheme=\"blue\"\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tv-else-if=\"lesson.data.disable_self_learning\"\n\t\t\t\t\t\tclass=\"mt-2\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ __('Contact the Administrator to enroll for this course.') }}\n\t\t\t\t\t</Badge>\n\t\t\t\t\t<Button v-else @click=\"redirectToLogin()\">\n\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t<LogIn class=\"w-4 h-4 stroke-1\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ __('Login') }}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-else\n\t\t\t\tref=\"lessonContainer\"\n\t\t\t\tclass=\"bg-surface-white\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'overflow-y-auto': zenModeEnabled,\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"border-r container pt-5 pb-10 px-5 h-full\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'w-full md:w-3/5 mx-auto border-none !pt-10': zenModeEnabled,\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"flex flex-col md:flex-row md:items-center justify-between\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t\t\t\t<div class=\"text-3xl font-semibold text-ink-gray-9\">\n\t\t\t\t\t\t\t\t{{ lesson.data.title }}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"zenModeEnabled\"\n\t\t\t\t\t\t\t\tclass=\"relative flex items-center space-x-2 text-sm mt-1 text-ink-gray-7 group w-fit mt-2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{{ lesson.data.chapter_title }} -\n\t\t\t\t\t\t\t\t\t{{ lesson.data.course_title }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<Info class=\"size-3\" />\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"hidden group-hover:block rounded bg-gray-900 px-2 py-1 text-xs text-white shadow-xl absolute left-0 top-full mt-2\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ Math.ceil(lesson.data.membership.progress) }}%\n\t\t\t\t\t\t\t\t\t{{ __('completed') }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex items-center space-x-2 mt-2 md:mt-0\">\n\t\t\t\t\t\t\t<Button v-if=\"zenModeEnabled\" @click=\"showDiscussionsInZenMode()\">\n\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t<MessageCircleQuestion class=\"w-4 h-4 stroke-1.5\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\tv-if=\"lesson.data.prev\"\n\t\t\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\t\t\tname: 'Lesson',\n\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\tcourseName: courseName,\n\t\t\t\t\t\t\t\t\t\tchapterNumber: lesson.data.prev.split('.')[0],\n\t\t\t\t\t\t\t\t\t\tlessonNumber: lesson.data.prev.split('.')[1],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Button>\n\t\t\t\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t\t\t\t<ChevronLeft class=\"w-4 h-4 stroke-1\" />\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{{ __('Previous') }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\tv-if=\"allowEdit()\"\n\t\t\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\t\t\tname: 'LessonForm',\n\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\tcourseName: courseName,\n\t\t\t\t\t\t\t\t\t\tchapterNumber: props.chapterNumber,\n\t\t\t\t\t\t\t\t\t\tlessonNumber: props.lessonNumber,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Button>\n\t\t\t\t\t\t\t\t\t{{ __('Edit') }}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\tv-if=\"lesson.data.next\"\n\t\t\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\t\t\tname: 'Lesson',\n\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\tcourseName: courseName,\n\t\t\t\t\t\t\t\t\t\tchapterNumber: lesson.data.next.split('.')[0],\n\t\t\t\t\t\t\t\t\t\tlessonNumber: lesson.data.next.split('.')[1],\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Button>\n\t\t\t\t\t\t\t\t\t<template #suffix>\n\t\t\t\t\t\t\t\t\t\t<ChevronRight class=\"w-4 h-4 stroke-1\" />\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{{ __('Next') }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\t\t\tname: 'CourseDetail',\n\t\t\t\t\t\t\t\t\tparams: { courseName: courseName },\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Button>\n\t\t\t\t\t\t\t\t\t{{ __('Back to Course') }}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div v-if=\"!zenModeEnabled\" class=\"flex items-center mt-2\">\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclass=\"h-6 mr-1\"\n\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t'avatar-group overlap': lesson.data.instructors?.length > 1,\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<UserAvatar\n\t\t\t\t\t\t\t\tv-for=\"instructor in lesson.data.instructors\"\n\t\t\t\t\t\t\t\t:user=\"instructor\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<CourseInstructors\n\t\t\t\t\t\t\tv-if=\"lesson.data?.instructors\"\n\t\t\t\t\t\t\t:instructors=\"lesson.data.instructors\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t\tlesson.data.instructor_content &&\n\t\t\t\t\t\t\tJSON.parse(lesson.data.instructor_content)?.blocks?.length > 1 &&\n\t\t\t\t\t\t\tallowInstructorContent()\n\t\t\t\t\t\t\"\n\t\t\t\t\t\tclass=\"bg-surface-gray-2 p-3 rounded-md mt-6\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"text-ink-gray-5 font-medium\">\n\t\t\t\t\t\t\t{{ __('Instructor Notes') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid=\"instructor-content\"\n\t\t\t\t\t\t\tclass=\"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal\"\n\t\t\t\t\t\t></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-else-if=\"lesson.data.instructor_notes\"\n\t\t\t\t\t\tclass=\"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal mt-8\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<LessonContent :content=\"lesson.data.instructor_notes\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"lesson.data.content\"\n\t\t\t\t\t\tclass=\"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal mt-8\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div id=\"editor\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\tclass=\"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal mt-8\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<LessonContent\n\t\t\t\t\t\t\tv-if=\"lesson.data?.body\"\n\t\t\t\t\t\t\t:content=\"lesson.data.body\"\n\t\t\t\t\t\t\t:youtube=\"lesson.data.youtube\"\n\t\t\t\t\t\t\t:quizId=\"lesson.data.quiz_id\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"mt-20\" ref=\"discussionsContainer\">\n\t\t\t\t\t\t<Discussions\n\t\t\t\t\t\t\tv-if=\"allowDiscussions\"\n\t\t\t\t\t\t\t:title=\"'Questions'\"\n\t\t\t\t\t\t\t:doctype=\"'Course Lesson'\"\n\t\t\t\t\t\t\t:docname=\"lesson.data.name\"\n\t\t\t\t\t\t\t:key=\"lesson.data.name\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"sticky top-10\">\n\t\t\t\t<div class=\"bg-surface-menu-bar py-5 px-2 border-b\">\n\t\t\t\t\t<div class=\"text-lg font-semibold text-ink-gray-9\">\n\t\t\t\t\t\t{{ lesson.data.course_title }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"user && lesson.data.membership\"\n\t\t\t\t\t\tclass=\"text-sm mt-4 mb-2 text-ink-gray-5\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ Math.ceil(lessonProgress) }}% {{ __('completed') }}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ProgressBar\n\t\t\t\t\t\tv-if=\"user && lesson.data.membership\"\n\t\t\t\t\t\t:progress=\"lessonProgress\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<CourseOutline\n\t\t\t\t\t:courseName=\"courseName\"\n\t\t\t\t\t:key=\"chapterNumber\"\n\t\t\t\t\t:getProgress=\"lesson.data.membership ? true : false\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport {\n\tcreateResource,\n\tBadge,\n\tBreadcrumbs,\n\tButton,\n\tTooltip,\n\tusePageMeta,\n} from '@mono/mono-frappe-ui'\nimport {\n\tcomputed,\n\twatch,\n\tinject,\n\tref,\n\tonMounted,\n\tonBeforeUnmount,\n\tnextTick,\n} from 'vue'\nimport CourseOutline from '@/components/CourseOutline.vue'\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport {\n\tChevronLeft,\n\tChevronRight,\n\tLockKeyholeIcon,\n\tLogIn,\n\tFocus,\n\tInfo,\n\tMessageCircleQuestion,\n} from 'lucide-vue-next'\nimport Discussions from '@/components/Discussions.vue'\nimport { getEditorTools, enablePlyr } from '@/utils'\nimport { sessionStore } from '@/stores/session'\nimport { useSidebar } from '@/stores/sidebar'\n// import EditorJS from '@editorjs/editorjs'\nimport LessonContent from '@/components/LessonContent.vue'\nimport CourseInstructors from '@/components/CourseInstructors.vue'\nimport ProgressBar from '@/components/ProgressBar.vue'\nimport CertificationLinks from '@/components/CertificationLinks.vue'\n\nconst user = inject('$user')\nconst socket = inject('$socket')\nconst router = useRouter()\nconst route = useRoute()\nconst allowDiscussions = ref(false)\nconst editor = ref(null)\nconst instructorEditor = ref(null)\nconst lessonProgress = ref(0)\nconst lessonContainer = ref(null)\nconst zenModeEnabled = ref(false)\nconst hasQuiz = ref(false)\nconst discussionsContainer = ref(null)\nconst timer = ref(0)\nconst { brand } = sessionStore()\nconst sidebarStore = useSidebar()\nlet timerInterval\n\nconst props = defineProps({\n\tcourseName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tchapterNumber: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tlessonNumber: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nonMounted(() => {\n\tstartTimer()\n\tconsole.log(sidebarStore.isSidebarCollapsed)\n\tsidebarStore.isSidebarCollapsed = true\n\tdocument.addEventListener('fullscreenchange', attachFullscreenEvent)\n\tsocket.on('update_lesson_progress', (data) => {\n\t\tif (data.course === props.courseName) {\n\t\t\tlessonProgress.value = data.progress\n\t\t}\n\t})\n})\n\nconst attachFullscreenEvent = () => {\n\tif (document.fullscreenElement) {\n\t\tzenModeEnabled.value = true\n\t\tallowDiscussions.value = false\n\t} else {\n\t\tzenModeEnabled.value = false\n\t\tif (!hasQuiz.value) {\n\t\t\tallowDiscussions.value = true\n\t\t}\n\t}\n}\n\nonBeforeUnmount(() => {\n\tdocument.removeEventListener('fullscreenchange', attachFullscreenEvent)\n\tsidebarStore.isSidebarCollapsed = false\n})\n\nconst lesson = createResource({\n\turl: 'lms.lms.utils.get_lesson',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tcourse: props.courseName,\n\t\t\tchapter: values ? values.chapter : props.chapterNumber,\n\t\t\tlesson: values ? values.lesson : props.lessonNumber,\n\t\t}\n\t},\n\tauto: true,\n})\n\nconst setupLesson = (data) => {\n\tif (Object.keys(data).length === 0) {\n\t\trouter.push({\n\t\t\tname: 'CourseDetail',\n\t\t\tparams: { courseName: props.courseName },\n\t\t})\n\t\treturn\n\t}\n\tlessonProgress.value = data.membership?.progress\n\t// if (data.content) editor.value = renderEditor('editor', data.content)\n\t// if (\n\t// \tdata.instructor_content &&\n\t// \tJSON.parse(data.instructor_content)?.blocks?.length > 1\n\t// )\n\t// \tinstructorEditor.value = renderEditor(\n\t// \t\t'instructor-content',\n\t// \t\tdata.instructor_content\n\t// \t)\n\t// editor.value?.isReady.then(() => {\n\t// \tcheckIfDiscussionsAllowed()\n\t// })\n\n\t// if (!editor.value && data.body) {\n\t// \tconst quizRegex = /\\{\\{ Quiz\\(\".*\"\\) \\}\\}/\n\t// \thasQuiz.value = quizRegex.test(data.body)\n\t// \tif (!hasQuiz.value && !zenModeEnabled) allowDiscussions.value = true\n\t// }\n}\n\nconst renderEditor = (holder, content) => {\n\t// empty the holder\n\tif (document.getElementById(holder))\n\t\tdocument.getElementById(holder).innerHTML = ''\n\treturn new EditorJS({\n\t\tholder: holder,\n\t\ttools: getEditorTools(),\n\t\tdata: JSON.parse(content),\n\t\treadOnly: true,\n\t\tdefaultBlock: 'embed', // editor adds an empty block at the top, so to avoid that added default block as embed\n\t})\n}\n\nconst markProgress = () => {\n\tif (user.data && lesson.data && !lesson.data.progress) {\n\t\tprogress.submit()\n\t}\n}\n\nconst progress = createResource({\n\turl: 'lms.lms.doctype.course_lesson.course_lesson.save_progress',\n\tmakeParams() {\n\t\treturn {\n\t\t\tlesson: lesson.data.name,\n\t\t\tcourse: props.courseName,\n\t\t}\n\t},\n\tonSuccess(data) {\n\t\tlessonProgress.value = data\n\t},\n})\n\nconst breadcrumbs = computed(() => {\n\tlet items = [{ label: 'Courses', route: { name: 'Courses' } }]\n\titems.push({\n\t\tlabel: lesson?.data?.course_title,\n\t\troute: { name: 'CourseDetail', params: { courseName: props.courseName } },\n\t})\n\titems.push({\n\t\tlabel: lesson?.data?.title,\n\t\troute: {\n\t\t\tname: 'Lesson',\n\t\t\tparams: {\n\t\t\t\tcourseName: props.courseName,\n\t\t\t\tchapterNumber: props.chapterNumber,\n\t\t\t\tlessonNumber: props.lessonNumber,\n\t\t\t},\n\t\t},\n\t})\n\treturn items\n})\n\nwatch(\n\t[() => route.params.chapterNumber, () => route.params.lessonNumber],\n\t(\n\t\t[newChapterNumber, newLessonNumber],\n\t\t[oldChapterNumber, oldLessonNumber]\n\t) => {\n\t\tif (newChapterNumber || newLessonNumber) {\n\t\t\teditor.value = null\n\t\t\tinstructorEditor.value = null\n\t\t\tallowDiscussions.value = false\n\t\t\tlesson.submit({\n\t\t\t\tchapter: newChapterNumber,\n\t\t\t\tlesson: newLessonNumber,\n\t\t\t})\n\t\t\tclearInterval(timerInterval)\n\t\t\ttimer.value = 0\n\t\t\tstartTimer()\n\t\t\tenablePlyr()\n\t\t}\n\t}\n)\n\nwatch(\n\t() => lesson.data,\n\t(data) => {\n\t\tsetupLesson(data)\n\t\tenablePlyr()\n\t}\n)\n\nconst startTimer = () => {\n\ttimerInterval = setInterval(() => {\n\t\ttimer.value++\n\t\tif (timer.value == 30) {\n\t\t\tclearInterval(timerInterval)\n\t\t\tmarkProgress()\n\t\t}\n\t}, 1000)\n}\n\nonBeforeUnmount(() => {\n\tclearInterval(timerInterval)\n})\n\nconst checkIfDiscussionsAllowed = () => {\n\tJSON.parse(lesson.data?.content)?.blocks?.forEach((block) => {\n\t\tif (block.type === 'quiz') hasQuiz.value = true\n\t})\n\n\tif (\n\t\t!hasQuiz.value &&\n\t\t!zenModeEnabled.value &&\n\t\t(lesson.data?.membership ||\n\t\t\tuser.data?.is_moderator ||\n\t\t\tuser.data?.is_instructor)\n\t)\n\t\tallowDiscussions.value = true\n}\n\nconst allowEdit = () => {\n\tif (window.read_only_mode) return false\n\tif (user.data?.is_moderator) return true\n\tif (lesson.data?.instructors?.includes(user.data?.name)) return true\n\treturn false\n}\n\nconst allowInstructorContent = () => {\n\tif (user.data?.is_moderator) return true\n\tif (lesson.data?.instructors?.includes(user.data?.name)) return true\n\treturn false\n}\n\nconst enrollment = createResource({\n\turl: 'frappe.client.insert',\n\tmakeParams() {\n\t\treturn {\n\t\t\tdoc: {\n\t\t\t\tdoctype: 'LMS Enrollment',\n\t\t\t\tcourse: props.courseName,\n\t\t\t\tmember: user.data?.name,\n\t\t\t},\n\t\t}\n\t},\n})\n\nconst enrollStudent = () => {\n\tenrollment.submit(\n\t\t{},\n\t\t{\n\t\t\tonSuccess() {\n\t\t\t\twindow.location.reload()\n\t\t\t},\n\t\t}\n\t)\n}\n\nconst canGoZen = () => {\n\tif (\n\t\tuser.data?.is_moderator ||\n\t\tuser.data?.is_instructor ||\n\t\tuser.data?.is_evaluator\n\t)\n\t\treturn true\n\tif (lesson.data?.membership) return true\n\treturn false\n}\n\nconst goFullScreen = () => {\n\tif (lessonContainer.value.requestFullscreen) {\n\t\tlessonContainer.value.requestFullscreen()\n\t} else if (lessonContainer.value.mozRequestFullScreen) {\n\t\tlessonContainer.value.mozRequestFullScreen()\n\t} else if (lessonContainer.value.webkitRequestFullscreen) {\n\t\tlessonContainer.value.webkitRequestFullscreen()\n\t} else if (lessonContainer.value.msRequestFullscreen) {\n\t\tlessonContainer.value.msRequestFullscreen()\n\t}\n}\n\nconst showDiscussionsInZenMode = () => {\n\tif (allowDiscussions.value) {\n\t\tallowDiscussions.value = false\n\t} else {\n\t\tallowDiscussions.value = true\n\t\tscrollDiscussionsIntoView()\n\t}\n}\n\nconst scrollDiscussionsIntoView = () => {\n\tnextTick(() => {\n\t\tdiscussionsContainer.value?.scrollIntoView({\n\t\t\tbehavior: 'smooth',\n\t\t\tblock: 'center',\n\t\t\tinline: 'nearest',\n\t\t})\n\t})\n}\n\nconst redirectToLogin = () => {\n\twindow.location.href = `/login?redirect-to=/lms/courses/${props.courseName}`\n}\n\nusePageMeta(() => {\n\treturn {\n\t\ttitle: lesson?.data?.title,\n\t\ticon: brand.favicon,\n\t}\n})\n</script>\n<style>\n.avatar-group {\n\tdisplay: inline-flex;\n\talign-items: center;\n}\n\n.avatar-group .avatar {\n\ttransition: margin 0.1s ease-in-out;\n}\n\n.lesson-content p {\n\tmargin-bottom: 1rem;\n\tline-height: 1.7;\n}\n\n.lesson-content li {\n\tline-height: 1.7;\n}\n\n.lesson-content ol {\n\tlist-style: auto;\n\tmargin: revert;\n\tpadding: 1rem;\n}\n\n.lesson-content ul {\n\tlist-style: auto;\n\tpadding: 1rem;\n\tmargin: revert;\n}\n\n.lesson-content img {\n\tborder: 1px solid theme('colors.gray.200');\n\tborder-radius: 0.5rem;\n}\n\n.lesson-content code {\n\tdisplay: block;\n\toverflow-x: auto;\n\tpadding: 1rem 1.25rem;\n\tbackground: #011627;\n\tcolor: #d6deeb;\n\tborder-radius: 0.5rem;\n\tmargin: 1rem 0;\n}\n\n.lesson-content a {\n\tcolor: theme('colors.gray.900');\n\ttext-decoration: underline;\n\tfont-weight: 500;\n}\n\n.embed-tool__caption,\n.cdx-simple-image__caption {\n\tdisplay: none;\n}\n\n.ce-block__content {\n\tmax-width: unset;\n}\n\n.codex-editor__redactor {\n\tpadding-bottom: 0px !important;\n}\n\n.codeBoxHolder {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-start;\n\talign-items: flex-start;\n}\n\n.codeBoxTextArea {\n\twidth: 100%;\n\tmin-height: 30px;\n\tpadding: 10px;\n\tborder-radius: 2px 2px 2px 0;\n\tborder: none !important;\n\toutline: none !important;\n\tfont: 14px monospace;\n}\n\n.codeBoxSelectDiv {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-start;\n\talign-items: flex-start;\n\tposition: relative;\n}\n\n.codeBoxSelectInput {\n\tborder-radius: 0 0 20px 2px;\n\tpadding: 2px 26px;\n\tpadding-top: 0;\n\tpadding-right: 0;\n\ttext-align: left;\n\tcursor: pointer;\n\tborder: none !important;\n\toutline: none !important;\n}\n\n.codeBoxSelectDropIcon {\n\tposition: absolute !important;\n\tleft: 10px !important;\n\tbottom: 0 !important;\n\twidth: unset !important;\n\theight: unset !important;\n\tfont-size: 16px !important;\n}\n\n.codeBoxSelectPreview {\n\tdisplay: none;\n\tflex-direction: column;\n\tjustify-content: flex-start;\n\talign-items: flex-start;\n\tborder-radius: 2px;\n\tbox-shadow: 0 3px 15px -3px rgba(13, 20, 33, 0.13);\n\tposition: absolute;\n\ttop: 100%;\n\tmargin: 5px 0;\n\tmax-height: 30vh;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\tz-index: 10000;\n}\n\n.codeBoxSelectItem {\n\twidth: 100%;\n\tpadding: 5px 20px;\n\tmargin: 0;\n\tcursor: pointer;\n}\n\n.codeBoxSelectItem:hover {\n\topacity: 0.7;\n}\n\n.codeBoxSelectedItem {\n\tbackground-color: lightblue !important;\n}\n\n.codeBoxShow {\n\tdisplay: flex !important;\n}\n\n.dark {\n\tcolor: #abb2bf;\n\tbackground-color: #282c34;\n}\n\n.light {\n\tcolor: #383a42;\n\tbackground-color: #fafafa;\n}\n\n.codeBoxTextArea {\n\tline-height: 1.7;\n}\n\n.tc-table {\n\tborder-left: 1px solid #e8e8eb;\n}\n\n.plyr__volume input[type='range'] {\n\tdisplay: none;\n}\n\n.plyr__control--overlaid {\n\tbackground: radial-gradient(\n\t\tcircle,\n\t\trgba(0, 0, 0, 0.4) 0%,\n\t\trgba(0, 0, 0, 0.5) 50%\n\t);\n}\n\n.plyr__control:hover {\n\tbackground: none;\n}\n\n.plyr--video {\n\tborder: 1px solid theme('colors.gray.200');\n\tborder-radius: 8px;\n}\n\n:root {\n\t--plyr-range-fill-background: white;\n\t--plyr-video-control-background-hover: transparent;\n}\n</style>\n"],"names":["user","inject","redirectToLogin","_unref","_createBlock","Quiz","__props","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","__","_createVNode","Button","screenSize","useScreenSize","markdown","MarkdownIt","getYouTubeVideoSource","block","getId","getPDFSource","_Fragment","_renderList","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_11","_hoisted_12","_hoisted_14","_hoisted_17","socket","router","useRouter","route","useRoute","allowDiscussions","ref","editor","instructorEditor","lessonProgress","lessonContainer","zenModeEnabled","hasQuiz","discussionsContainer","timer","brand","sessionStore","sidebarStore","useSidebar","timerInterval","props","onMounted","startTimer","attachFullscreenEvent","data","onBeforeUnmount","lesson","createResource","values","setupLesson","markProgress","progress","breadcrumbs","computed","items","watch","newChapterNumber","newLessonNumber","oldChapterNumber","oldLessonNumber","enablePlyr","allowEdit","allowInstructorContent","enrollment","enrollStudent","canGoZen","goFullScreen","showDiscussionsInZenMode","scrollDiscussionsIntoView","nextTick","usePageMeta","_hoisted_2","Breadcrumbs","Tooltip","Focus","CertificationLinks","_hoisted_4","LockKeyholeIcon","_hoisted_8","_toDisplayString","Badge","LogIn","_createTextVNode","_hoisted_10","_hoisted_13","Info","_hoisted_15","MessageCircleQuestion","_component_router_link","ChevronLeft","ChevronRight","_hoisted_16","instructor","UserAvatar","CourseInstructors","_hoisted_18","_hoisted_19","LessonContent","_hoisted_20","_cache","_hoisted_21","Discussions","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","ProgressBar","CourseOutline"],"mappings":"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"}